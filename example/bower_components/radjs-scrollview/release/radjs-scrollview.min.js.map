{"version":3,"sources":["radjs-scrollview.min.js"],"names":["root","factory","define","amd","RADJS_ScrollView","module","exports","this","addVendorPrefix","property","capitalise","string","charAt","toUpperCase","slice","index","prefs","$div","document","createElement","result","toLowerCase","arrayOfPrefixes","length","push","undefined","style","mix","old","newMixin","attr","hasOwnProperty","ElementSizeWatch","$wrapper","$content","direction","onFit","onScroll","interval","wrapperHeight","clientHeight","wrapperWidth","clientWidth","contentHeight","scrollHeight","contentWidth","scrollWidth","timerID","setInterval","destroy","clearInterval","ScrollBar","container","options","className","smart","_container","_bar","position","opacity","appendChild","_containerSize","_position","_max","_translateArray","Element","_smart","setAttribute","bind","removeAttribute","_window","Date","now","window","performance","webkitNow","mozNow","msNow","oNow","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","_transformName","_transitionName","setPosition","join","refresh","bar","height","offsetHeight","width","offsetWidth","ScrollView","element","validPosition","tmpVar","event","scrollView","_options","preventMove","resizeEvent","scroll","bounds","marginMIN","marginMAX","shift","onScrollBefore","onScrollAfter","onScrollTypeChange","type","_transitionArray","_coordName","_speedName","_animParams","_RafID","_lastPointerPosition","_shift","_motionType","_lastMotionType","_STRINGS","stop","_isMoved","_tmp","easing","velocity","_pos","_root","_wrapper","firstElementChild","indexOf","getComputedStyle","overflow","margin","TRACKING_EVENTS","addEventListener","resize","_animationStep","timestamp","_calculateShift","tweak","_min","_margine","checkTweak","round","up","move","down","chancel","fling","leave","startTime","a","abs","ceil","duration","easeFunc","lastShift","isNaN","_eventPointerDown","_eventPointerMove","_eventPointerUp","_eventFling","preventDefaultTags","time","removeEventListener","rootWidth","rootHeight","newShift","newPos","newDuration","jumpTo","to","scrollType","parseFloat","contentSize","parseInt","handleEvent","ignoreBeforeAfter","aspectBeforeAfter","fnOnName","that","disallowFire","preventBefore","callAfter","test","target","preventDefault","cancel","_resizeID"],"mappings":"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","file":"radjs-scrollview.min.js","sourcesContent":["(function (root, factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(\"radjs-scrollview\", function () {\r\n\t\t\troot.RADJS_ScrollView = factory();\r\n\t\t\treturn root.RADJS_ScrollView;\r\n\t\t});\r\n\t} else if (typeof module === \"object\" && module.exports) {\r\n\t\troot.RADJS_ScrollView = factory();\r\n\t\tmodule.exports = root.RADJS_ScrollView;\r\n\t} else {\r\n\t\troot.RADJS_ScrollView = factory();\r\n\t}\r\n}(this, function () {\r\n\t\"use strict\";\r\n\n/**\n * Add vendor prefix\n * @param {string} property\n * @return {string}\n */\nfunction addVendorPrefix(property) {\n\tvar prefs = [\"webkit\", \"moz\", \"ms\", \"o\"], index, $div = document.createElement(\"div\"),\n\t\tresult = property.toLowerCase(), arrayOfPrefixes = [];\n\n\tfunction capitalise(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tfor (index = 0; index < prefs.length; index += 1) {\n\t\tarrayOfPrefixes.push(prefs[index] + capitalise(property));\n\t}\n\tfor (index = 0; index < arrayOfPrefixes.length; index += 1) {\n\t\tif ($div.style[arrayOfPrefixes[index]] !== undefined) {\n\t\t\tresult = \"-\" + prefs[index] + \"-\" + property;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Extend first on object with second\n * @param {Object} old\n * @param {Object} newMixin\n * @return {Object}\n */\nfunction mix(old, newMixin) {\n\tvar attr;\n\tfor (attr in newMixin) {\n\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\told[attr] = newMixin[attr];\n\t\t}\n\t}\n\treturn old;\n}\n\nfunction ElementSizeWatch($wrapper, $content, direction, onFit, onScroll, interval) {\n\tvar wrapperHeight = $wrapper.clientHeight;\n\tvar wrapperWidth = $wrapper.clientWidth;\n\tvar contentHeight = $content.scrollHeight;\n\tvar contentWidth = $content.scrollWidth;\n\tvar timerID = null;\n\tsetInterval(function () {\n\t\tif (direction === \"horizontal\") {\n\t\t\tif ($wrapper.clientWidth != wrapperWidth || $content.scrollWidth != contentWidth) {\n\t\t\t\twrapperWidth = $wrapper.clientWidth;\n\t\t\t\tcontentWidth = $content.scrollWidth;\n\t\t\t\tif (wrapperWidth >= contentWidth) {\n\t\t\t\t\tonFit();\n\t\t\t\t} else {\n\t\t\t\t\tonScroll();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (direction === \"vertical\") {\n\t\t\tif ($wrapper.clientHeight != wrapperHeight || $content.scrollHeight != contentHeight) {\n\t\t\t\twrapperHeight = $wrapper.clientHeight;\n\t\t\t\tcontentHeight = $content.scrollHeight;\n\t\t\t\tif (wrapperHeight >= contentHeight) {\n\t\t\t\t\tonFit();\n\t\t\t\t} else {\n\t\t\t\t\tonScroll();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ($wrapper.clientWidth != wrapperWidth || $content.scrollWidth != contentWidth\n\t\t\t\t|| $wrapper.clientHeight != wrapperHeight || $content.scrollHeight != contentHeight) {\n\t\t\t\twrapperWidth = $wrapper.clientWidth;\n\t\t\t\tcontentWidth = $content.scrollWidth;\n\t\t\t\twrapperHeight = $wrapper.clientHeight;\n\t\t\t\tcontentHeight = $content.scrollHeight;\n\t\t\t\tif (wrapperWidth >= contentWidth && wrapperHeight >= contentHeight) {\n\t\t\t\t\tonFit();\n\t\t\t\t} else {\n\t\t\t\t\tonScroll();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, interval);\n\tthis.destroy = function () {\n\t\tclearInterval(timerID);\n\t};\n}\n\n(function (_window) {\r\n\t_window.Date.now || (_window.Date.now = function () {\r\n\t\treturn +new Date;\r\n\t});\r\n})(window);\r\n\n(function (_window) {\r\n\t_window.performance || (_window.performance = {});\r\n\t_window.performance.now && (_window.performance.now = performance.webkitNow || performance.mozNow || performance.msNow ||\r\n\t\tperformance.oNow || function () {\r\n\t\t\treturn Date.now()\r\n\t\t})\r\n})(window);\r\n\n(function (_window) {\r\n\tvar lastTime = 0;\r\n\tvar vendors = [\"webkit\", \"moz\", \"ms\", \"o\"];\r\n\tfor (var x = 0; x < vendors.length && !_window.requestAnimationFrame; ++x) {\r\n\t\t_window.requestAnimationFrame = _window[vendors[x] + \"RequestAnimationFrame\"];\r\n\t\t_window.cancelAnimationFrame = _window[vendors[x] + \"CancelAnimationFrame\"]\r\n\t\t\t|| _window[vendors[x] + \"CancelRequestAnimationFrame\"];\r\n\t}\r\n\t_window.requestAnimationFrame || (_window.requestAnimationFrame = function (callback) {\r\n\t\tvar currTime = Date.now();\r\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n\t\tvar id = _window.setTimeout(function () {\r\n\t\t\t\tcallback(currTime + timeToCall)\r\n\t\t\t},\r\n\t\t\ttimeToCall);\r\n\t\tlastTime = currTime + timeToCall;\r\n\t\treturn id\r\n\t});\r\n\t_window.cancelAnimationFrame || (_window.cancelAnimationFrame = function (id) {\r\n\t\tclearTimeout(id);\r\n\t});\r\n}(window));\r\n\n/**\n * Scrollbar for view\n * @param {HTMLElement} container\n * @param {Object} options\n * @constructor\n */\nfunction ScrollBar(container, options) {\n\toptions = mix({\n\t\tclassName: \"scrollbar\",\n\t\tdirection: \"vertical\",\n\t\tsmart: null\n\t}, options);\n\tthis.direction = options.direction;\n\tthis._container = container;\n\tthis._bar = document.createElement(\"div\");\n\tthis._bar.style.position = \"absolute\";\n\tthis._bar.className = options.className;\n\tthis._bar.style.opacity = 0;\n\tthis._container.appendChild(this._bar);\n\tthis._containerSize = 0;\n\tthis._position = 0;\n\tthis._max = 0;\n\tthis._translateArray = this.direction === \"vertical\" ? [\"translate3d(0, \", 0, \"px, 0)\"] : [\"translate3d(\", 0, \"px, 0, 0)\"];\n\tif (options.smart instanceof Element) {\n\t\tthis._smart = new ElementSizeWatch(container, options.smart, options.direction, function () {\n\t\t\tthis._bar.setAttribute(\"hidden\", \"hidden\");\n\t\t}.bind(this), function () {\n\t\t\tthis._bar.removeAttribute(\"hidden\");\n\t\t}.bind(this), 1000);\n\t}\n}\nScrollBar.prototype = {\n\t/**\n\t * @private\n\t */\n\t_transformName: addVendorPrefix(\"transform\"),\n\t/**\n\t * @private\n\t */\n\t_transitionName: addVendorPrefix(\"transition\"),\n\t/**\n\t * @public\n\t */\n\tsetPosition: function (position) {\n\t\tthis._position = position;\n\t\tthis._translateArray[1] = -position * this._containerSize / this._max;\n\t\tif (this._translateArray[1] <= 0) {\n\t\t\tthis._translateArray[1] = 0;\n\t\t} else if (this._translateArray[1] >= this._containerSize) {\n\t\t\tthis._translateArray[1] = this._containerSize;\n\t\t}\n\t\tthis._bar.style[this._transformName] = this._translateArray.join(\"\");\n\t},\n\t/**\n\t * @public\n\t */\n\trefresh: function (max) {\n\t\tvar bar = this;\n\t\tthis._max = max;\n\t\tif (Math.max(0, max) === 0) {\n\t\t\tthis._bar.style.opacity = 0;\n\t\t} else {\n\t\t\tthis._bar.style.opacity = 1;\n\t\t}\n\t\tif (this.direction === \"vertical\") {\n\t\t\tthis._bar.style.height = this._container.offsetHeight * (this._container.offsetHeight / (max + this._container.offsetHeight)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetHeight - this._bar.offsetHeight;\n\t\t} else {\n\t\t\tthis._bar.style.width = this._container.offsetWidth * (this._container.offsetWidth / (max + this._container.offsetWidth)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetWidth - this._bar.offsetWidth;\n\t\t}\n\t\tthis._bar.style[this._transitionName] = \"transform 300ms\";\n\t\tthis.setPosition(this._position);\n\t\tsetTimeout(function () {\n\t\t\tbar._bar.style[bar._transitionName] = \"transform 0ms\";\n\t\t}, 350);\n\t},\n\tdestroy: function () {\n\t\tif (this._smart) {\n\t\t\tthis._smart.destroy();\n\t\t}\n\t}\n};\n\nvar ScrollView = (function () {\r\n\t/**\r\n\t * Scroll wrapper with additional features\r\n\t * @param {HTMLElement} element\r\n\t * @param {Object} options - options for current instance of scrollview\r\n\t * @extends {EventListener}\r\n\t * @constructor\r\n\t */\r\n\tfunction ScrollView(element, options) {\r\n\t\tvar scrollView = this, validPosition, tmpVar, event;\r\n\t\tthis._options = mix({\r\n\t\t\tpreventMove: true,\r\n\t\t\tresizeEvent: true,\r\n\t\t\tscroll: true,\r\n\t\t\tbounds: false,\r\n\t\t\tdirection: \"vertical\",\r\n\t\t\tmarginMIN: 0,\r\n\t\t\tmarginMAX: 0,\r\n\t\t\tonScroll: function (shift) {\r\n\t\t\t},\r\n\t\t\tonScrollBefore: function (shift) {\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tonScrollAfter: function () {\r\n\t\t\t},\r\n\t\t\tonScrollTypeChange: function (type) {\r\n\t\t\t}\r\n\t\t}, options);\r\n\t\t// Initialize inner variables on creation\r\n\t\tif (this._options.direction === \"vertical\") {\r\n\t\t\tthis._transitionArray = [\"translate3d(0, \", 0, \"px, 0)\"];\r\n\t\t\tthis._coordName = \"screenY\";\r\n\t\t\tthis._speedName = \"speedY\";\r\n\t\t} else {\r\n\t\t\tthis._transitionArray = [\"translate3d(\", 0, \"px, 0, 0)\"];\r\n\t\t\tthis._coordName = \"screenX\";\r\n\t\t\tthis._speedName = \"speedX\";\r\n\t\t}\r\n\t\tthis._animParams = null; // move or not in current time scrolling view\r\n\t\tthis._RafID = null; // ID of request animation frame\r\n\t\tthis._lastPointerPosition = 0; // position of touch pointer, when is touched\r\n\t\tthis._shift = 0; // shift for next requestAnimationFrame tick\r\n\t\tthis._motionType = this._lastMotionType = this._STRINGS.stop;\r\n\t\tthis._isMoved = false;\r\n\t\tthis._tmp = {shift: 0, now: 0, easing: 0, velocity: 0};\r\n\t\tthis._pos = 0;\r\n\t\tthis._root = element;\r\n\t\tthis._wrapper = element.firstElementChild;\r\n\t\t// Prepare environment\r\n\t\tvalidPosition = [\"fixed\", \"relative\", \"absolute\"];\r\n\t\ttmpVar = validPosition.indexOf(window.getComputedStyle(element, null).position);\r\n\t\tif (tmpVar === -1) {\r\n\t\t\ttmpVar = validPosition.indexOf(element.style.position);\r\n\t\t}\r\n\t\tif (tmpVar === -1) {\r\n\t\t\tthis._root.style.position = \"relative\";\r\n\t\t} else {\r\n\t\t\tthis._root.style.position = validPosition[tmpVar];\r\n\t\t}\r\n\t\tthis._root.style.overflow = \"hidden\";\r\n\t\tthis._wrapper.style.margin = 0;\r\n\t\tthis._wrapper.style.position = \"absolute\";\r\n\t\tthis._wrapper.style[this._transitionName] = \"transform 0ms\";\r\n\t\tfor (event in this.TRACKING_EVENTS) {\r\n\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\r\n\t\t\t\tthis._root.addEventListener(this.TRACKING_EVENTS[event], this, false);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._options.resizeEvent) {\r\n\t\t\twindow.addEventListener(this.TRACKING_EVENTS.resize, this, false);\r\n\t\t}\r\n\t\t// Animation step function\r\n\t\tthis._animationStep = function (timestamp) {\r\n\t\t\tif (!scrollView._options.scroll) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tscrollView._calculateShift(timestamp);\r\n\t\t\tscrollView._pos -= scrollView._shift;\r\n\t\t\t// Check bounds\r\n\t\t\tif ((scrollView._motionType !== scrollView._STRINGS.tweak) ||\r\n\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\r\n\t\t\t\tif (scrollView._pos < scrollView._min - scrollView._margine) {\r\n\t\t\t\t\tscrollView._pos = scrollView._min - scrollView._margine;\r\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\r\n\t\t\t\t}\r\n\t\t\t\tif (scrollView._pos > scrollView._margine + scrollView._max) {\r\n\t\t\t\t\tscrollView._pos = scrollView._margine + scrollView._max;\r\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (scrollView._shift !== 0) { // Callbacks\r\n\t\t\t\tif ((!scrollView._isMoved) && !scrollView._options.onScrollBefore(scrollView._shift)) {\r\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.stop;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscrollView._isMoved = true;\r\n\t\t\t\t\tscrollView._options.onScroll(scrollView._shift, scrollView._pos);\r\n\t\t\t\t\t// Call onScrollTypeChange callback if type of motion was changed\r\n\t\t\t\t\tif ((scrollView._lastMotionType !== scrollView._motionType) &&\r\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.checkTweak) &&\r\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\r\n\t\t\t\t\t\tscrollView._options.onScrollTypeChange(scrollView._motionType);\r\n\t\t\t\t\t\tscrollView._lastMotionType = scrollView._motionType;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tscrollView._transitionArray[1] = scrollView._pos;\r\n\t\t\t// Endpoint round or post next loop\r\n\t\t\tif (scrollView._motionType === scrollView._STRINGS.stop) {\r\n\t\t\t\tscrollView._transitionArray[1] = Math.round(scrollView._transitionArray[1]);\r\n\t\t\t\tif (scrollView._isMoved) {\r\n\t\t\t\t\tscrollView._options.onScrollAfter();\r\n\t\t\t\t}\r\n\t\t\t\tscrollView._isMoved = false;\r\n\t\t\t} else {\r\n\t\t\t\tscrollView._RafID = window.requestAnimationFrame(scrollView._animationStep);\r\n\t\t\t}\r\n\t\t\tscrollView._wrapper.style[scrollView._transformName] = scrollView._transitionArray.join(\"\");\r\n\t\t\tscrollView._shift = 0;\r\n\t\t};\r\n\t\t// Start\r\n\t\tthis.refresh();\r\n\t}\r\n\r\n\tScrollView.prototype = {\r\n\t\tTRACKING_EVENTS: {\r\n\t\t\tresize: \"resize\",\r\n\t\t\tup: \"pointerup\",\r\n\t\t\tmove: \"pointermove\",\r\n\t\t\tdown: \"pointerdown\",\r\n\t\t\tchancel: \"pointercancel\",\r\n\t\t\tfling: \"fling\",\r\n\t\t\tleave: \"pointerleave\"\r\n\t\t},\r\n\t\t_STRINGS: {\r\n\t\t\ttweak: \"tweak\",\r\n\t\t\tcheckTweak: \"checkTweak\",\r\n\t\t\tstop: \"stop\",\r\n\t\t\tscroll: \"scroll\",\r\n\t\t\tfling: \"fling\",\r\n\t\t\tmove: \"move\"\r\n\t\t},\r\n\t\t_transitionName: addVendorPrefix(\"transition\"),\r\n\t\t_transformName: addVendorPrefix(\"transform\"),\r\n\t\t_calculateShift: function (now) {\r\n\t\t\t// If it first time of RAF loop - save timestamp for calculations\r\n\t\t\tif (this._animParams.startTime === null) {\r\n\t\t\t\tthis._animParams.startTime = now;\r\n\t\t\t\tthis._animParams.lastTime = now;\r\n\t\t\t}\r\n\t\t\t// Check different types of motion\r\n\t\t\tswitch (this._motionType) {\r\n\t\t\t\tcase this._STRINGS.move:\r\n\t\t\t\t\tthis._shift /= ((this._pos < this._min) || (this._pos > this._max)) ? 3 : 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._STRINGS.fling:\r\n\t\t\t\t\t// Setup shift value & decrease velocity\r\n\t\t\t\t\tthis._shift = this._animParams.velocity * (now - this._animParams.lastTime);\r\n\t\t\t\t\tthis._tmp.velocity =\r\n\t\t\t\t\t\tthis._animParams.velocity + this._animParams.a * (now - this._animParams.startTime);\r\n\t\t\t\t\t// Check changing of velocity sign\r\n\t\t\t\t\tif (this._tmp.velocity / this._animParams.velocity > 0) {\r\n\t\t\t\t\t\tthis._animParams.velocity = this._tmp.velocity;\r\n\t\t\t\t\t\t// Decrease velocity when scroller out of borders\r\n\t\t\t\t\t\tif (((this._pos < this._min) && (this._animParams.velocity > 0)) ||\r\n\t\t\t\t\t\t\t((this._pos > this._max) && (this._animParams.velocity < 0))) {\r\n\t\t\t\t\t\t\tthis._animParams.velocity += -this._animParams.velocity * 0.6;\r\n\t\t\t\t\t\t\tif (Math.abs(this._shift) < 0.05) {\r\n\t\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._STRINGS.tweak:\r\n\t\t\t\tcase this._STRINGS.scroll:\r\n\t\t\t\t\tthis._tmp.now = Math.ceil(1e3 * (now - this._animParams.startTime) / this._animParams.duration) / 1e3;\r\n\t\t\t\t\tthis._tmp.easing = this.easeFunc(this._tmp.now);\r\n\t\t\t\t\tthis._tmp.shift = Math.ceil(1e3 * this._animParams.shift * this._tmp.easing) / 1e3;\r\n\t\t\t\t\tif (this._animParams.duration !== 0) {\r\n\t\t\t\t\t\tthis._shift = this._tmp.shift - this._animParams.lastShift;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._shift = this._animParams.shift;\r\n\t\t\t\t\t\tthis._tmp.now = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this._tmp.now >= 1) {\r\n\t\t\t\t\t\tif (this._motionType === this._STRINGS.tweak) {\r\n\t\t\t\t\t\t\tthis._shift = this._animParams.shift - this._animParams.lastShift;\r\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._animParams.lastShift = this._tmp.shift;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._STRINGS.checkTweak:\r\n\t\t\t\t\tif (this._pos > this._max) {\r\n\t\t\t\t\t\tthis._tmp.shift = this._max - this._pos;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (this._pos < this._min) {\r\n\t\t\t\t\t\t\tthis._tmp.shift = this._min - this._pos;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._tmp.shift = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this._options.tweak && this._tmp.shift === 0) {\r\n\t\t\t\t\t\tif (this._pos < this._max && this._pos > this._min) {\r\n\t\t\t\t\t\t\tthis._tmp.shift = this._pos -\r\n\t\t\t\t\t\t\t\tMath.ceil(1e3 * Math.round(this._pos / this._options.tweak) * this._options.tweak) / 1e3;\r\n\t\t\t\t\t\t\tthis._tmp.shift = -this._tmp.shift;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._animParams = {\r\n\t\t\t\t\t\tshift: -this._tmp.shift,\r\n\t\t\t\t\t\tlastShift: 0,\r\n\t\t\t\t\t\tduration: 250,\r\n\t\t\t\t\t\tstartTime: now,\r\n\t\t\t\t\t\tlastTime: null\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (this._tmp.shift !== 0) {\r\n\t\t\t\t\t\tthis._motionType = this._STRINGS.tweak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tthis._animParams.lastTime = now;\r\n\t\t\tthis._shift = (!isNaN(this._shift)) ? this._shift : 0;\r\n\t\t},\r\n\t\t_eventPointerDown: function (event) {\r\n\t\t\twindow.cancelAnimationFrame(this._RafID); // stop any animations\r\n\t\t\tthis._lastPointerPosition = event[this._coordName]; //save current position for next loop of RAF\r\n\t\t\tthis._animParams = {}; //start looping by requestAnimationFrame\r\n\t\t\tthis._motionType = this._STRINGS.move;\r\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\r\n\t\t},\r\n\t\t_eventPointerMove: function (event) {\r\n\t\t\tthis._shift += this._lastPointerPosition - event[this._coordName];\r\n\t\t\tthis._lastPointerPosition = event[this._coordName];\r\n\t\t},\r\n\t\t_eventPointerUp: function (event) {\r\n\t\t\tif (this._motionType !== this._STRINGS.fling) {\r\n\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\r\n\t\t\t}\r\n\t\t\tthis._eventPointerMove(event);\r\n\t\t},\r\n\t\t_eventFling: function (event) {\r\n\t\t\tvar velocity = this._options.scroll ? -event[this._speedName] : 0;\r\n\t\t\tif (velocity === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._animParams = {\r\n\t\t\t\tvelocity: velocity,\r\n\t\t\t\ta: -(velocity < 0 ? -1 : 1) * 0.00009,\r\n\t\t\t\tstartTime: null,\r\n\t\t\t\tlastTime: null\r\n\t\t\t};\r\n\t\t\tthis._motionType = this._STRINGS.fling;\r\n\t\t},\r\n\t\tpreventDefaultTags: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\r\n\t\teaseFunc: function (time) {\r\n\t\t\treturn time * (2 - time);\r\n\t\t},\r\n\t\tdestroy: function () {\r\n\t\t\tvar event;\r\n\t\t\tfor (event in this.TRACKING_EVENTS) {\r\n\t\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\r\n\t\t\t\t\tthis._root.removeEventListener(this.TRACKING_EVENTS[event], this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twindow.removeEventListener(this.TRACKING_EVENTS.resize, this);\r\n\t\t\twindow.cancelAnimationFrame(this._RafID);\r\n\t\t\tthis._root = null;\r\n\t\t\tthis._wrapper = null;\r\n\t\t\tthis._options = null;\r\n\t\t},\r\n\t\trefresh: function () {\r\n\t\t\tvar rootWidth = this._root.offsetWidth, rootHeight = this._root.offsetHeight;\r\n\t\t\twindow.cancelAnimationFrame(this._RafID);\r\n\t\t\tthis._motionType = this._STRINGS.stop;\r\n\t\t\tif (this._options.direction === \"vertical\") {\r\n\t\t\t\tthis._min = (rootHeight <= this._wrapper.clientHeight) ?\r\n\t\t\t\trootHeight - this._wrapper.clientHeight - this._options.marginMAX : 0;\r\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootHeight / 3) : 0;\r\n\t\t\t} else {\r\n\t\t\t\tthis._min = (rootWidth <= this._wrapper.offsetWidth) ?\r\n\t\t\t\trootWidth - this._wrapper.clientWidth - this._options.marginMAX : 0;\r\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootWidth / 3) : 0;\r\n\t\t\t}\r\n\t\t\tthis._max = this._options.marginMIN;\r\n\t\t\tthis._motionType = this._STRINGS.checkTweak; // prepare and start tweak\r\n\t\t\tthis._animParams = {};\r\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\r\n\t\t},\r\n\t\tscroll: function (shift, duration) {\r\n\t\t\tvar newDuration = duration, newShift, newPos;\r\n\t\t\twindow.cancelAnimationFrame(this._RafID);\r\n\t\t\tthis._motionType = this._STRINGS.stop;\r\n\t\t\t// check bounds\r\n\t\t\tif (shift !== 0) {\r\n\t\t\t\tnewPos = this._pos + shift;\r\n\t\t\t\tif (newPos < this._min) {\r\n\t\t\t\t\tnewShift = this._min - this._pos;\r\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\r\n\t\t\t\t\tshift = newShift;\r\n\t\t\t\t}\r\n\t\t\t\tif (newPos > this._max) {\r\n\t\t\t\t\tnewShift = this._max - this._pos;\r\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\r\n\t\t\t\t\tshift = newShift;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tshift = this._options.scroll ? shift : 0;\r\n\t\t\tthis._motionType = this._STRINGS.scroll; //start looping by requestAnimationFrame\r\n\t\t\tthis._animParams = {\r\n\t\t\t\tshift: -shift,\r\n\t\t\t\tlastShift: 0,\r\n\t\t\t\tduration: newDuration,\r\n\t\t\t\tstartTime: null,\r\n\t\t\t\tlastTime: null\r\n\t\t\t};\r\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\r\n\t\t},\r\n\t\tjumpTo: function (to) {\r\n\t\t\tvar scrollType, position = 0;\r\n\t\t\tif (typeof to === \"string\") {\r\n\t\t\t\tif(to.slice(-1) === \"%\") {\r\n\t\t\t\t\tscrollType = 1; // percent\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscrollType = 0; // pixel\r\n\t\t\t\t}\r\n\t\t\t\tposition = parseFloat(to);\r\n\t\t\t} else if (to instanceof Element) {\r\n\t\t\t\tscrollType = 2; // element\r\n\t\t\t} else {\r\n\t\t\t\tscrollType = 0; // pixel\r\n\t\t\t\tposition = parseFloat(to);\r\n\t\t\t}\r\n\t\t\tposition < 0 && (position = 0);\r\n\t\t\tswitch (scrollType) {\r\n\t\t\t\tcase 0: // pixel\r\n\t\t\t\t\tvar contentSize = 0;\r\n\t\t\t\t\tif (this._options.direction == \"vertical\") {\r\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetHeight - this._root.offsetHeight;\r\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\r\n\t\t\t\t\t\tposition = parseInt(position) * -1;\r\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(0, \" + position + \"px, 0)\";\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetWidth;\r\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\r\n\t\t\t\t\t\tposition = parseInt(position);\r\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(\" + position + \"px, 0, 0)\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._pos = position + this._shift;\r\n\t\t\t\t\tthis._shift = 0;\r\n\t\t\t\t\tthis._lastPointerPosition = event[this._coordName];\r\n\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1: //percent\r\n\t\t\t\t\t// @todo implement\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2: //element\r\n\t\t\t\t\t// @todo implement\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleEvent: function (event, ignoreBeforeAfter) {\r\n\t\t\tvar that = this;\r\n\t\t\tfunction aspectBeforeAfter(fnOnName) {\r\n\t\t\t\treturn typeof that._options[fnOnName] === \"function\" && (!ignoreBeforeAfter);\r\n\t\t\t} // if in options named function is defined and should not be ignored by `ignoreBeforeAfter`\r\n\t\t\tfunction disallowFire(fnOnName) {\r\n\t\t\t\treturn that._options[fnOnName](event) === false;\r\n\t\t\t} // function with this event return false, and event should be prevented\r\n\t\t\tfunction preventBefore (fnOnName) {\r\n\t\t\t\treturn aspectBeforeAfter(fnOnName) && disallowFire(fnOnName);\r\n\t\t\t}\r\n\t\t\tfunction callAfter(fnOnName) {\r\n\t\t\t\tif (aspectBeforeAfter(fnOnName)) {\r\n\t\t\t\t\tthat._options[fnOnName](event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tswitch (event.type) {\r\n\t\t\t\tcase this.TRACKING_EVENTS.down:\r\n\t\t\t\t\tif (preventBefore(\"onDownBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventPointerDown(event);\r\n\t\t\t\t\tcallAfter(\"onDownAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.move:\r\n\t\t\t\t\tif (preventBefore(\"onMoveBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventPointerMove(event);\r\n\t\t\t\t\tif (this._options.preventMove && !this.preventDefaultTags.test(event.target)) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallAfter(\"onMoveAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.cancel:\r\n\t\t\t\t\tif (preventBefore(\"onCancelBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventPointerUp(event);\r\n\t\t\t\t\tcallAfter(\"onCancelAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.up:\r\n\t\t\t\t\tif (preventBefore(\"onUpBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventPointerUp(event);\r\n\t\t\t\t\tcallAfter(\"onUpAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.leave:\r\n\t\t\t\t\tif (preventBefore(\"onLeaveBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventPointerUp(event);\r\n\t\t\t\t\tcallAfter(\"onLeaveAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.fling:\r\n\t\t\t\t\tif (preventBefore(\"onFlingBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._eventFling(event);\r\n\t\t\t\t\tcallAfter(\"onFlingAfter\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this.TRACKING_EVENTS.resize:\r\n\t\t\t\t\tif (preventBefore(\"onResizeBefore\")) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclearTimeout(this._resizeID);\r\n\t\t\t\t\tthis._resizeID = setTimeout(function () {\r\n\t\t\t\t\t\tthat.refresh();\r\n\t\t\t\t\t\tcallAfter(\"onResizeAfter\");\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tScrollView.ScrollBar = ScrollBar;\r\n\treturn ScrollView;\r\n}());\r\n\r\n\n\treturn ScrollView;\r\n}));\r\n"],"sourceRoot":"/source/"}