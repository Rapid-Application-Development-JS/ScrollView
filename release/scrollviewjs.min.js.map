{"version":3,"sources":["scrollviewjs.min.js"],"names":["root","factory","define","amd","ScrollViewJS","module","exports","this","addVendorPrefix","property","capitalise","string","charAt","toUpperCase","slice","index","prefs","$div","document","createElement","result","toLowerCase","arrayOfPrefixes","length","push","undefined","style","mix","old","newMixin","attr","hasOwnProperty","PointerWrapper","element","listener","context","_isDown","_chancelId","_tracks","_tmpEvent","_trackEvents","isTouched","TRACK_TOUCH_EVENTS","TRACK_EVENTS","attach","_listener","notify","event","handleEvent","apply","ScrollBar","container","options","className","direction","_container","_bar","position","opacity","appendChild","_containerSize","_position","_max","_translateArray","_window","Date","now","window","performance","webkitNow","mozNow","msNow","oNow","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","touchstart","touchmove","touchend","touchleave","touchcancel","mousedown","mousemove","mouseup","mouseover","mouseout","FIRE_EVENTS","up","down","move","over","chancel","fling","longtap","tap","device","desktop","catchFirstEvent","detach","_catch","_el","addEventListener","removeEventListener","destroy","type","_pointerDown","_fireEvent","pointerTracker","start","clientX","clientY","timeStamp","pre","last","end","_pointerMove","_pointerUp","distance","x1","x2","y1","y2","pow","isMoved","isFling","pointer","abs","speedX","speedY","i","l","touchEvent","touches","touchID","identifier","changedTouches","screenX","screenY","pointerType","target","currentTarget","preventDefault","stopPropagation","_transformName","_transitionName","setPosition","join","refresh","bar","height","offsetHeight","width","offsetWidth","validPosition","tmpVar","scrollView","_options","preventMove","resizeEvent","scroll","bounds","marginMIN","marginMAX","onScroll","shift","console","dir","onScrollBefore","onScrollAfter","onScrollTypeChange","_transitionArray","_coordName","_speedName","_animParams","_RafID","_lastPointerPosition","_shift","_motionType","_lastMotionType","_STRINGS","stop","_isMoved","_tmp","easing","velocity","_pos","_root","_wrapper","firstElementChild","indexOf","getComputedStyle","overflow","margin","TRACKING_EVENTS","resize","_animationStep","timestamp","_calculateShift","tweak","_min","_margine","checkTweak","round","startTime","a","ceil","duration","easeFunc","lastShift","isNaN","_eventPointerDown","_eventPointerMove","_eventPointerUp","_eventFling","V","preventDefaultTags","time","rootWidth","rootHeight","clientHeight","clientWidth","newShift","newPos","newDuration","jumpTo","to","scrollType","parseFloat","Element","contentSize","parseInt","ignoreBeforeAfter","self","test","cancel","_resizeID","that"],"mappings":"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","file":"scrollviewjs.min.js","sourcesContent":["(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn (root.ScrollViewJS = factory());\n\t\t});\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = (root.ScrollViewJS = factory());\n\t} else {\n\t\troot.ScrollViewJS = factory();\n\t}\n}(this, function () {\n\t'use strict';\n\n/**\n * Add vendor prefix\n * @param {string} property\n * @return {string}\n */\nfunction addVendorPrefix(property) {\n\tvar prefs = ['webkit', 'moz', 'ms', 'o'], index, $div = document.createElement('div'),\n\t\tresult = property.toLowerCase(), arrayOfPrefixes = [];\n\n\tfunction capitalise(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tfor (index = 0; index < prefs.length; index += 1) {\n\t\tarrayOfPrefixes.push(prefs[index] + capitalise(property));\n\t}\n\tfor (index = 0; index < arrayOfPrefixes.length; index += 1) {\n\t\tif ($div.style[arrayOfPrefixes[index]] !== undefined) {\n\t\t\tresult = '-' + prefs[index] + '-' + property;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Extend first on object with second\n * @param {Object} old\n * @param {Object} newMixin\n * @return {Object}\n */\nfunction mix(old, newMixin) {\n\tvar attr;\n\tfor (attr in newMixin) {\n\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\told[attr] = newMixin[attr];\n\t\t}\n\t}\n\treturn old;\n}\n\n(function (_window) {\n\t_window.Date.now || (_window.Date.now = function () {\n\t\treturn +new Date;\n\t});\n})(window);\n\n(function (_window) {\n\t_window.performance || (_window.performance = {});\n\t_window.performance.now && (_window.performance.now = performance.webkitNow || performance.mozNow || performance.msNow ||\n\t\tperformance.oNow || function () {\n\t\t\treturn Date.now()\n\t\t})\n})(window);\n\n(function (_window) {\n\tvar lastTime = 0;\n\tvar vendors = ['webkit', 'moz', 'ms', 'o'];\n\tfor (var x = 0; x < vendors.length && !_window.requestAnimationFrame; ++x) {\n\t\t_window.requestAnimationFrame = _window[vendors[x] + 'RequestAnimationFrame'];\n\t\t_window.cancelAnimationFrame = _window[vendors[x] + 'CancelAnimationFrame']\n\t\t\t|| _window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\t_window.requestAnimationFrame || (_window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = Date.now();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = _window.setTimeout(function () {\n\t\t\t\tcallback(currTime + timeToCall)\n\t\t\t},\n\t\t\ttimeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id\n\t});\n\t_window.cancelAnimationFrame || (_window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t});\n}(window));\n\n/**\n * Provide point events for DOM elements\n * @param {Element} element\n * @param {Object} listener\n * @param {Object=} context\n * @constructor\n */\nfunction PointerWrapper(element, listener, context) {\n\tthis._isDown = false;\n\tthis._chancelId = false;\n\tthis._tracks = {};\n\tthis._tmpEvent = {};\n\tif (this.isTouched) {\n\t\tthis._trackEvents = this.TRACK_TOUCH_EVENTS;\n\t} else {\n\t\tthis._trackEvents = this.TRACK_EVENTS;\n\t}\n\tthis.attach(element);\n\tthis._listener = listener;\n\tif (typeof listener === 'object') {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener.handleEvent(event);\n\t\t};\n\t} else if (typeof context === 'object') {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener.apply(context, [event]);\n\t\t};\n\t} else {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener(event);\n\t\t};\n\t}\n}\nPointerWrapper.prototype = {\n\tTRACK_TOUCH_EVENTS: {\n\t\ttouchstart: 'touchstart',\n\t\ttouchmove: 'touchmove',\n\t\ttouchend: 'touchend',\n\t\ttouchleave: 'touchleave',\n\t\ttouchcancel: '.touchcancel'\n\t},\n\tTRACK_EVENTS: {\n\t\tmousedown: 'mousedown',\n\t\tmousemove: 'mousemove',\n\t\tmouseup: 'mouseup',\n\t\tmouseover: 'mouseover',\n\t\tmouseout: 'mouseout'\n\t},\n\tFIRE_EVENTS: {\n\t\tup: 'pointerup',\n\t\tdown: 'pointerdown',\n\t\tmove: 'pointermove',\n\t\tover: 'pointerover',\n\t\tchancel: 'pointercancel',\n\t\tfling: 'fling',\n\t\tlongtap: 'longtap',\n\t\ttap: 'tap'\n\t},\n\t/**\n\t * @type {boolean}\n\t */\n\tisTouched: !window.device.desktop(),\n\t/**\n\t * @public\n\t */\n\tattach: function (element, catchFirstEvent) {\n\t\tvar old = this.detach(), attr;\n\t\tthis._catch = !!catchFirstEvent;\n\t\tif (element) {\n\t\t\tthis._el = element;\n\t\t\tfor (attr in this._trackEvents) {\n\t\t\t\tif (this._trackEvents.hasOwnProperty(attr)) {\n\t\t\t\t\tthis._el.addEventListener(this._trackEvents[attr], this, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn old;\n\t},\n\t/**\n\t * @public\n\t */\n\tdetach: function () {\n\t\tvar old = this._el, attr;\n\t\tif (old) {\n\t\t\tfor (attr in this._trackEvents) {\n\t\t\t\tif (this._trackEvents.hasOwnProperty(attr)) {\n\t\t\t\t\tthis._el.removeEventListener(this._trackEvents[attr], this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._el = null;\n\t},\n\t/**\n\t * @public\n\t */\n\tdestroy: function () {\n\t\tthis.detach();\n\t\tthis._listener = null;\n\t\tthis._tmpEvent = null;\n\t},\n\t/**\n\t * @public\n\t */\n\thandleEvent: function (event) {\n\t\tif (this._chancelId !== null) {\n\t\t\tclearTimeout(this._chancelId);\n\t\t}\n\t\tif (this._catch) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase this.TRACK_TOUCH_EVENTS.touchstart:\n\t\t\t\tcase this.TRACK_EVENTS.mousedown:\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis._isDown = true;\n\t\t\t\t\tthis._chancelId = false;\n\t\t\t\t\tthis._pointerDown(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._catch = false;\n\t\t}\n\t\tswitch (event.type) {\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchmove:\n\t\t\tcase this.TRACK_EVENTS.mousemove:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.move, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchstart:\n\t\t\tcase this.TRACK_EVENTS.mousedown:\n\t\t\t\tthis._isDown = true;\n\t\t\t\tthis._chancelId = false;\n\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.down, event);\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchend:\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchleave:\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchcancel:\n\t\t\tcase this.TRACK_EVENTS.mouseup:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._isDown = false;\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.up, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_EVENTS.mouseover:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.over, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_EVENTS.mouseout:\n\t\t\t\tvar pointerTracker = this;\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._chancelId = setTimeout(function () {\n\t\t\t\t\t\tpointerTracker._isDown = false;\n\t\t\t\t\t\tpointerTracker._fireEvent(pointerTracker.FIRE_EVENTS.chancel, event);\n\t\t\t\t\t\tpointerTracker._chancelId = null;\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t/**\n\t * @private\n\t */\n\t_pointerDown: function (event) {\n\t\tthis._tracks = {\n\t\t\tstart: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tpre: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tlast: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t}\n\t\t};\n\t},\n\t/**\n\t * @private\n\t */\n\t_pointerMove: function (event) {\n\t\tif (event.timeStamp - this._tracks.last.timeStamp > 10) {\n\t\t\tthis._tracks.pre.clientX = this._tracks.last.clientX;\n\t\t\tthis._tracks.pre.clientY = this._tracks.last.clientY;\n\t\t\tthis._tracks.pre.timeStamp = this._tracks.last.timeStamp;\n\t\t\tthis._tracks.last.clientX = event.clientX;\n\t\t\tthis._tracks.last.clientY = event.clientY;\n\t\t\tthis._tracks.last.timeStamp = event.timeStamp;\n\t\t}\n\t},\n\t/**\n\t *\n\t * @param {Event} event\n\t * @private\n\t */\n\t_pointerUp: function (event) {\n\t\tvar isMoved, isFling, pointer = this._tracks;\n\t\tthis._tracks.end.clientX = event.clientX;\n\t\tthis._tracks.end.clientY = event.clientY;\n\t\tthis._tracks.end.timeStamp = event.timeStamp;\n\t\tfunction distance(x1, x2, y1, y2) {\n\t\t\treturn Math.pow(((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)), 0.5);\n\t\t}\n\n\t\tisMoved = Math.abs(\n\t\t\t\tdistance(pointer.start.clientX, pointer.end.clientX, pointer.start.clientY, pointer.end.clientY)) > 10;\n\t\tisFling = Math.abs(\n\t\t\t\tdistance(pointer.end.clientX, pointer.pre.clientX, pointer.end.clientY, pointer.pre.clientY)) > 0;\n\t\tif (isFling) {\n\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.fling;\n\t\t\tthis._tmpEvent.start = pointer.start;\n\t\t\tthis._tmpEvent.end = pointer.end;\n\t\t\tthis._tmpEvent.speedX =\n\t\t\t\t(pointer.end.clientX - pointer.pre.clientX) / (pointer.end.timeStamp - pointer.pre.timeStamp);\n\t\t\tthis._tmpEvent.speedY =\n\t\t\t\t(pointer.end.clientY - pointer.pre.clientY) / (pointer.end.timeStamp - pointer.pre.timeStamp);\n\t\t\tthis.notify(this._tmpEvent);\n\t\t} else if (!isMoved) {\n\t\t\tif (pointer.end.timeStamp - pointer.start.timeStamp > 300) {\n\t\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.longtap;\n\t\t\t\tthis.notify(this._tmpEvent);\n\t\t\t} else {\n\t\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.tap;\n\t\t\t\tthis.notify(this._tmpEvent);\n\t\t\t}\n\t\t}\n\t\tthis._tracks = null;\n\t},\n\t/**\n\t * @private\n\t */\n\t_fireEvent: function (type, event) {\n\t\tvar touchEvent = event, i, l;\n\t\t// Get coordinates\n\t\tif (this.isTouched) {\n\t\t\tif (event.type === this.TRACK_TOUCH_EVENTS.touchstart) {\n\t\t\t\tif (event.touches.length > 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttouchEvent = event.touches[0];\n\t\t\t\tthis.touchID = event.touches[0].identifier;\n\t\t\t} else {\n\t\t\t\tif (!this.touchID) {\n\t\t\t\t\tthis.touchID = event.changedTouches[0].identifier;\n\t\t\t\t}\n\t\t\t\tfor (i = 0, l = event.changedTouches.length; i < l; i += 1) {\n\t\t\t\t\ttouchEvent = event.changedTouches[i];\n\t\t\t\t\tif (touchEvent.identifier === this.touchID) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (touchEvent.identifier !== this.touchID) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.touchID = 1; // Mouse\n\t\t}\n\t\t// Custom event\n\t\tthis._tmpEvent.type = type;\n\t\tthis._tmpEvent.start = null;\n\t\tthis._tmpEvent.end = null;\n\t\tthis._tmpEvent.speedX = null;\n\t\tthis._tmpEvent.speedY = null;\n\t\tthis._tmpEvent.screenX = touchEvent.screenX;\n\t\tthis._tmpEvent.screenY = touchEvent.screenY;\n\t\tthis._tmpEvent.clientX = touchEvent.clientX;\n\t\tthis._tmpEvent.clientY = touchEvent.clientY;\n\t\tthis._tmpEvent.pointerType = this.isTouched ? 'touch' : 'mouse';\n\t\tthis._tmpEvent.target = event.target;\n\t\tthis._tmpEvent.currentTarget = event.currentTarget;\n\t\tthis._tmpEvent.timeStamp = event.timeStamp;\n\t\tthis._tmpEvent.preventDefault = function () {\n\t\t\tif (event.preventDefault !== undefined) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\t\tthis._tmpEvent.stopPropagation = function () {\n\t\t\tif (event.stopPropagation !== undefined) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\t\t// Fire custom event\n\t\tthis.notify(this._tmpEvent);\n\t\t// Save data for gesture and check\n\t\tswitch (type) {\n\t\t\tcase this.FIRE_EVENTS.down:\n\t\t\t\tthis._pointerDown(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t\tcase this.FIRE_EVENTS.move:\n\t\t\t\tthis._pointerMove(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t\tcase this.FIRE_EVENTS.chancel:\n\t\t\tcase this.FIRE_EVENTS.up:\n\t\t\t\tthis._pointerUp(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * Scrollbar for view\n * @param {HTMLElement} container\n * @param {Object} options\n * @constructor\n */\nfunction ScrollBar(container, options) {\n\toptions = mix({\n\t\tclassName: 'scrollbar',\n\t\tdirection: 'vertical'\n\t}, options);\n\tthis.direction = options.direction;\n\tthis._container = container;\n\tthis._bar = document.createElement('div');\n\tthis._bar.style.position = 'absolute';\n\tthis._bar.className = options.className;\n\tthis._bar.style.opacity = 0;\n\tthis._container.appendChild(this._bar);\n\tthis._containerSize = 0;\n\tthis._position = 0;\n\tthis._max = 0;\n\tthis._translateArray = this.direction === 'vertical' ? ['translate3d(0, ', 0, 'px, 0)'] : ['translate3d(', 0, 'px, 0, 0)'];\n}\nScrollBar.prototype = {\n\t/**\n\t * @private\n\t */\n\t_transformName: addVendorPrefix('transform'),\n\t/**\n\t * @private\n\t */\n\t_transitionName: addVendorPrefix('transition'),\n\t/**\n\t * @public\n\t */\n\tsetPosition: function (position) {\n\t\tthis._position = position;\n\t\tthis._translateArray[1] = -position * this._containerSize / this._max;\n\t\tif (this._translateArray[1] <= 0) {\n\t\t\tthis._translateArray[1] = 0;\n\t\t} else if (this._translateArray[1] >= this._containerSize) {\n\t\t\tthis._translateArray[1] = this._containerSize;\n\t\t}\n\t\tthis._bar.style[this._transformName] = this._translateArray.join('');\n\t},\n\t/**\n\t * @public\n\t */\n\trefresh: function (max) {\n\t\tvar bar = this;\n\t\tthis._max = max;\n\t\tif (Math.max(0, max) === 0) {\n\t\t\tthis._bar.style.opacity = 0;\n\t\t} else {\n\t\t\tthis._bar.style.opacity = 1;\n\t\t}\n\t\tif (this.direction === 'vertical') {\n\t\t\tthis._bar.style.height = this._container.offsetHeight * (this._container.offsetHeight / (max + this._container.offsetHeight)) + 'px';\n\t\t\tthis._containerSize = this._container.offsetHeight - this._bar.offsetHeight;\n\t\t} else {\n\t\t\tthis._bar.style.width = this._container.offsetWidth * (this._container.offsetWidth / (max + this._container.offsetWidth)) + 'px';\n\t\t\tthis._containerSize = this._container.offsetWidth - this._bar.offsetWidth;\n\t\t}\n\t\tthis._bar.style[this._transitionName] = 'transform 300ms';\n\t\tthis.setPosition(this._position);\n\t\tsetTimeout(function () {\n\t\t\tbar._bar.style[bar._transitionName] = 'transform 0ms';\n\t\t}, 350);\n\t}\n};\n\nvar ScrollViewJS = (function () {\n\t/**\n\t * Scroll wrapper with additional features\n\t * @param {HTMLElement} element\n\t * @param {Object} options - options for current instance of scrollview\n\t * @extends {EventListener}\n\t * @constructor\n\t */\n\tfunction ScrollViewJS(element, options) {\n\t\tvar scrollView = this, validPosition, tmpVar, event;\n\t\tthis._options = mix({\n\t\t\tpreventMove: true,\n\t\t\tresizeEvent: true,\n\t\t\tscroll: true,\n\t\t\tbounds: false,\n\t\t\tdirection: 'vertical',\n\t\t\tmarginMIN: 0,\n\t\t\tmarginMAX: 0,\n\t\t\tonScroll: function (shift) {\n\t\t\t\tconsole.dir(shift);\n\t\t\t},\n\t\t\tonScrollBefore: function (shift) {\n\t\t\t\tconsole.dir(shift);\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonScrollAfter: function () {\n\t\t\t},\n\t\t\tonScrollTypeChange: function (type) {\n\t\t\t}\n\t\t}, options);\n\t\t// Initialize inner variables on creation\n\t\tif (this._options.direction === 'vertical') {\n\t\t\tthis._transitionArray = ['translate3d(0, ', 0, 'px, 0)'];\n\t\t\tthis._coordName = 'screenY';\n\t\t\tthis._speedName = 'speedY';\n\t\t} else {\n\t\t\tthis._transitionArray = ['translate3d(', 0, 'px, 0, 0)'];\n\t\t\tthis._coordName = 'screenX';\n\t\t\tthis._speedName = 'speedX';\n\t\t}\n\t\tthis._animParams = null; // move or not in current time scrolling view\n\t\tthis._RafID = null; // ID of request animation frame\n\t\tthis._lastPointerPosition = 0; // position of touch pointer, when is touched\n\t\tthis._shift = 0; // shift for next requestAnimationFrame tick\n\t\tthis._motionType = this._lastMotionType = this._STRINGS.stop;\n\t\tthis._isMoved = false;\n\t\tthis._tmp = {shift: 0, now: 0, easing: 0, velocity: 0};\n\t\tthis._pos = 0;\n\t\tthis._root = element;\n\t\tthis._wrapper = element.firstElementChild;\n\t\t// Prepare environment\n\t\tvalidPosition = ['fixed', 'relative', 'absolute'];\n\t\ttmpVar = validPosition.indexOf(window.getComputedStyle(element, null).position);\n\t\tif (tmpVar === -1) {\n\t\t\ttmpVar = validPosition.indexOf(element.style.position);\n\t\t}\n\t\tif (tmpVar === -1) {\n\t\t\tthis._root.style.position = 'relative';\n\t\t} else {\n\t\t\tthis._root.style.position = validPosition[tmpVar];\n\t\t}\n\t\tthis._root.style.overflow = 'hidden';\n\t\tthis._wrapper.style.margin = 0;\n\t\tthis._wrapper.style.position = 'absolute';\n\t\tthis._wrapper.style[this._transitionName] = 'transform 0ms';\n\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\tthis._root.addEventListener(this.TRACKING_EVENTS[event], this, false);\n\t\t\t}\n\t\t}\n\t\tif (this._options.resizeEvent) {\n\t\t\twindow.addEventListener(this.TRACKING_EVENTS.resize, this, false);\n\t\t}\n\t\t// Animation step function\n\t\tthis._animationStep = function (timestamp) {\n\t\t\tif (!scrollView._options.scroll) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tscrollView._calculateShift(timestamp);\n\t\t\tscrollView._pos -= scrollView._shift;\n\t\t\t// Check bounds\n\t\t\tif ((scrollView._motionType !== scrollView._STRINGS.tweak) ||\n\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\tif (scrollView._pos < scrollView._min - scrollView._margine) {\n\t\t\t\t\tscrollView._pos = scrollView._min - scrollView._margine;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t\tif (scrollView._pos > scrollView._margine + scrollView._max) {\n\t\t\t\t\tscrollView._pos = scrollView._margine + scrollView._max;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (scrollView._shift !== 0) { // Callbacks\n\t\t\t\tif ((!scrollView._isMoved) && !scrollView._options.onScrollBefore(scrollView._shift)) {\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.stop;\n\t\t\t\t} else {\n\t\t\t\t\tscrollView._isMoved = true;\n\t\t\t\t\tscrollView._options.onScroll(scrollView._shift, scrollView._pos);\n\t\t\t\t\t// Call onScrollTypeChange callback if type of motion was changed\n\t\t\t\t\tif ((scrollView._lastMotionType !== scrollView._motionType) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.checkTweak) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\t\t\tscrollView._options.onScrollTypeChange(scrollView._motionType);\n\t\t\t\t\t\tscrollView._lastMotionType = scrollView._motionType;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tscrollView._transitionArray[1] = scrollView._pos;\n\t\t\t// Endpoint round or post next loop\n\t\t\tif (scrollView._motionType === scrollView._STRINGS.stop) {\n\t\t\t\tscrollView._transitionArray[1] = Math.round(scrollView._transitionArray[1]);\n\t\t\t\tif (scrollView._isMoved) {\n\t\t\t\t\tscrollView._options.onScrollAfter();\n\t\t\t\t}\n\t\t\t\tscrollView._isMoved = false;\n\t\t\t} else {\n\t\t\t\tscrollView._RafID = window.requestAnimationFrame(scrollView._animationStep);\n\t\t\t}\n\t\t\tscrollView._wrapper.style[scrollView._transformName] = scrollView._transitionArray.join('');\n\t\t\tscrollView._shift = 0;\n\t\t};\n\t\t// Start\n\t\tthis.refresh();\n\t}\n\n\tScrollViewJS.prototype = {\n\t\tTRACKING_EVENTS: {\n\t\t\tresize: 'resize',\n\t\t\tup: 'pointerup',\n\t\t\tmove: 'pointermove',\n\t\t\tdown: 'pointerdown',\n\t\t\tchancel: 'pointercancel',\n\t\t\tfling: 'fling'\n\t\t},\n\t\t_STRINGS: {\n\t\t\ttweak: 'tweak',\n\t\t\tcheckTweak: 'checkTweak',\n\t\t\tstop: 'stop',\n\t\t\tscroll: 'scroll',\n\t\t\tfling: 'fling',\n\t\t\tmove: 'move'\n\t\t},\n\t\t_transitionName: addVendorPrefix('transition'),\n\t\t_transformName: addVendorPrefix('transform'),\n\t\t_calculateShift: function (now) {\n\t\t\t// If it first time of RAF loop - save timestamp for calculations\n\t\t\tif (this._animParams.startTime === null) {\n\t\t\t\tthis._animParams.startTime = now;\n\t\t\t\tthis._animParams.lastTime = now;\n\t\t\t}\n\t\t\t// Check different types of motion\n\t\t\tswitch (this._motionType) {\n\t\t\t\tcase this._STRINGS.move:\n\t\t\t\t\tthis._shift /= ((this._pos < this._min) || (this._pos > this._max)) ? 3 : 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.fling:\n\t\t\t\t\t// Setup shift value & decrease velocity\n\t\t\t\t\tthis._shift = this._animParams.velocity * (now - this._animParams.lastTime);\n\t\t\t\t\tthis._tmp.velocity = this._animParams.velocity + this._animParams.a * (now - this._animParams.startTime);\n\t\t\t\t\t// Check changing of velocity sign\n\t\t\t\t\tif (this._tmp.velocity / this._animParams.velocity > 0) {\n\t\t\t\t\t\tthis._animParams.velocity = this._tmp.velocity;\n\t\t\t\t\t\t// Decrease velocity when scroller out of borders\n\t\t\t\t\t\tif (((this._pos < this._min) && (this._animParams.velocity > 0)) ||\n\t\t\t\t\t\t\t((this._pos > this._max) && (this._animParams.velocity < 0))) {\n\t\t\t\t\t\t\tthis._animParams.velocity += -this._animParams.velocity * 0.6;\n\t\t\t\t\t\t\tif (Math.abs(this._shift) < 0.1) {\n\t\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.tweak:\n\t\t\t\tcase this._STRINGS.scroll:\n\t\t\t\t\tthis._tmp.now = Math.ceil(1000 * (now - this._animParams.startTime) / this._animParams.duration) / 1000;\n\t\t\t\t\tthis._tmp.easing = this.easeFunc(this._tmp.now);\n\t\t\t\t\tthis._tmp.shift = Math.ceil(1000 * this._animParams.shift * this._tmp.easing) / 1000;\n\t\t\t\t\tif (this._animParams.duration !== 0) {\n\t\t\t\t\t\tthis._shift = this._tmp.shift - this._animParams.lastShift;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._shift = this._animParams.shift;\n\t\t\t\t\t\tthis._tmp.now = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._tmp.now >= 1) {\n\t\t\t\t\t\tif (this._motionType === this._STRINGS.tweak) {\n\t\t\t\t\t\t\tthis._shift = this._animParams.shift - this._animParams.lastShift;\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams.lastShift = this._tmp.shift;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.checkTweak:\n\t\t\t\t\tif (this._pos > this._max) {\n\t\t\t\t\t\tthis._tmp.shift = this._max - this._pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this._pos < this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._min - this._pos;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._tmp.shift = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this._options.tweak && this._tmp.shift === 0) {\n\t\t\t\t\t\tif (this._pos < this._max && this._pos > this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._pos - Math.ceil(1000 * Math.round(this._pos / this._options.tweak) * this._options.tweak) / 1000;\n\t\t\t\t\t\t\tthis._tmp.shift = -this._tmp.shift;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams = {\n\t\t\t\t\t\tshift: -this._tmp.shift,\n\t\t\t\t\t\tlastShift: 0,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tstartTime: now,\n\t\t\t\t\t\tlastTime: null\n\t\t\t\t\t};\n\t\t\t\t\tif (this._tmp.shift !== 0) {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.tweak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._animParams.lastTime = now;\n\t\t\tthis._shift = (!isNaN(this._shift)) ? this._shift : 0;\n\t\t},\n\t\t_eventPointerDown: function (event) {\n\t\t\twindow.cancelAnimationFrame(this._RafID); // stop any animations\n\t\t\tthis._lastPointerPosition = event[this._coordName]; //save current position for next loop of RAF\n\t\t\tthis._animParams = {}; //start looping by requestAnimationFrame\n\t\t\tthis._motionType = this._STRINGS.move;\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\t_eventPointerMove: function (event) {\n\t\t\tthis._shift += this._lastPointerPosition - event[this._coordName];\n\t\t\tthis._lastPointerPosition = event[this._coordName];\n\t\t},\n\t\t_eventPointerUp: function (event) {\n\t\t\tif (this._motionType !== this._STRINGS.fling) {\n\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t}\n\t\t\tthis._eventPointerMove(event);\n\t\t},\n\t\t_eventFling: function (event) {\n\t\t\tvar V = this._options.scroll ? -event[this._speedName] : 0;\n\t\t\tif (V === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animParams = {\n\t\t\t\tvelocity: V,\n\t\t\t\ta: -(V < 0 ? -1 : 1) * 0.00009,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._motionType = this._STRINGS.fling;\n\t\t},\n\t\tpreventDefaultTags: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n\t\teaseFunc: function (time) {\n\t\t\treturn time * (2 - time);\n\t\t},\n\t\tdestroy: function () {\n\t\t\tvar event;\n\t\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\t\tthis._root.removeEventListener(this.TRACKING_EVENTS[event], this);\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.removeEventListener(this.TRACKING_EVENTS.resize, this);\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._root = null;\n\t\t\tthis._wrapper = null;\n\t\t\tthis._options = null;\n\t\t},\n\t\trefresh: function () {\n\t\t\tvar rootWidth = this._root.offsetWidth, rootHeight = this._root.offsetHeight;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\tif (this._options.direction === 'vertical') {\n\t\t\t\tthis._min = (rootHeight <= this._wrapper.clientHeight) ?\n\t\t\t\trootHeight - this._wrapper.clientHeight - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootHeight / 3) : 0;\n\t\t\t} else {\n\t\t\t\tthis._min = (rootWidth <= this._wrapper.offsetWidth) ?\n\t\t\t\trootWidth - this._wrapper.clientWidth - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootWidth / 3) : 0;\n\t\t\t}\n\t\t\tthis._max = this._options.marginMIN;\n\t\t\tthis._motionType = this._STRINGS.checkTweak; // prepare and start tweak\n\t\t\tthis._animParams = {};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tscroll: function (shift, duration) {\n\t\t\tvar newDuration = duration, newShift, newPos;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t// check bounds\n\t\t\tif (shift !== 0) {\n\t\t\t\tnewPos = this._pos + shift;\n\t\t\t\tif (newPos < this._min) {\n\t\t\t\t\tnewShift = this._min - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t\tif (newPos > this._max) {\n\t\t\t\t\tnewShift = this._max - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshift = this._options.scroll ? shift : 0;\n\t\t\tthis._motionType = this._STRINGS.scroll; //start looping by requestAnimationFrame\n\t\t\tthis._animParams = {\n\t\t\t\tshift: -shift,\n\t\t\t\tlastShift: 0,\n\t\t\t\tduration: newDuration,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tjumpTo: function (to) {\n\t\t\tvar scrollType, position = 0;\n\t\t\tif (typeof to === \"string\") {\n\t\t\t\tif(to.slice(-1) === \"%\") {\n\t\t\t\t\tscrollType = \"percent\";\n\t\t\t\t} else {\n\t\t\t\t\tscrollType = \"pixel\";\n\t\t\t\t}\n\t\t\t\tposition = parseFloat(to);\n\t\t\t} else if (to instanceof Element) {\n\t\t\t\tscrollType = \"element\";\n\t\t\t} else {\n\t\t\t\tscrollType = \"pixel\";\n\t\t\t\tposition = parseFloat(to);\n\t\t\t}\n\t\t\tposition < 0 && (position = 0);\n\t\t\tswitch (scrollType) {\n\t\t\t\tcase \"pixel\":\n\t\t\t\t\tvar contentSize = 0;\n\t\t\t\t\tif (this._options.direction == \"vertical\") {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetHeight - this._root.offsetHeight;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position) * -1;\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(0, \" + position + \"px, 0)\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetWidth;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position);\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(\" + position + \"px, 0, 0)\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandleEvent: function (event, ignoreBeforeAfter) {\n\t\t\tvar self = this;\n\t\t\tswitch (event.type) {\n\t\t\t\tcase this.TRACKING_EVENTS.down:\n\t\t\t\t\tif ((typeof this._options[\"onDownBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onDownBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerDown(event);\n\t\t\t\t\tif ((typeof this._options[\"onDownAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tthis._options[\"onDownAfter\"](event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.move:\n\t\t\t\t\tif ((typeof this._options[\"onMoveBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onMoveBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerMove(event);\n\t\t\t\t\tif (this._options.preventMove && !this.preventDefaultTags.test(event.target)) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif ((typeof this._options[\"onMoveAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tthis._options[\"onMoveAfter\"](event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.cancel:\n\t\t\t\t\tif ((typeof this._options[\"onCancelBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onCancelBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tif ((typeof this._options[\"onCancelAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tthis._options[\"onCancelAfter\"](event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.up:\n\t\t\t\t\tif ((typeof this._options[\"onUpBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onUpBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tif ((typeof this._options[\"onUpAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tthis._options[\"onUpAfter\"](event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.fling:\n\t\t\t\t\tif ((typeof this._options[\"onFlingBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onFlingBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventFling(event);\n\t\t\t\t\tif ((typeof this._options[\"onFlingAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tthis._options[\"onFlingAfter\"](event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.resize:\n\t\t\t\t\tif ((typeof this._options[\"onResizeBefore\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\tif (this._options[\"onResizeBefore\"](event) === false) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tclearTimeout(this._resizeID);\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tthis._resizeID = setTimeout(function () {\n\t\t\t\t\t\tself.refresh();\n\t\t\t\t\t\tif ((typeof that._options[\"onResizeAfter\"] === \"function\") && (!ignoreBeforeAfter)) {\n\t\t\t\t\t\t\tthat._options[\"onResizeAfter\"](event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 150);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\tScrollViewJS.ScrollBar = ScrollBar;\n\tScrollViewJS.PointerWrapper = PointerWrapper;\n\treturn ScrollViewJS;\n}());\n\n\n\treturn ScrollViewJS;\n}));\n"],"sourceRoot":"/source/"}