{"version":3,"sources":["radjs-scrollview.min.js"],"names":["root","factory","define","amd","RADJS_ScrollView","module","exports","this","addVendorPrefix","property","capitalise","string","charAt","toUpperCase","slice","index","prefs","$div","document","createElement","result","toLowerCase","arrayOfPrefixes","length","push","undefined","style","mix","old","newMixin","attr","hasOwnProperty","ScrollBar","container","options","className","direction","_container","_bar","position","opacity","appendChild","_containerSize","_position","_max","_translateArray","_window","Date","now","window","performance","webkitNow","mozNow","msNow","oNow","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","_transformName","_transitionName","setPosition","join","refresh","bar","height","offsetHeight","width","offsetWidth","ScrollView","element","validPosition","tmpVar","event","scrollView","_options","preventMove","resizeEvent","scroll","bounds","marginMIN","marginMAX","onScroll","shift","onScrollBefore","onScrollAfter","onScrollTypeChange","type","_transitionArray","_coordName","_speedName","_animParams","_RafID","_lastPointerPosition","_shift","_motionType","_lastMotionType","_STRINGS","stop","_isMoved","_tmp","easing","velocity","_pos","_root","_wrapper","firstElementChild","indexOf","getComputedStyle","overflow","margin","TRACKING_EVENTS","addEventListener","resize","_animationStep","timestamp","_calculateShift","tweak","_min","_margine","checkTweak","round","up","move","down","chancel","fling","leave","startTime","console","info","a","abs","ceil","duration","easeFunc","lastShift","isNaN","_eventPointerDown","_eventPointerMove","_eventPointerUp","_eventFling","preventDefaultTags","time","destroy","removeEventListener","rootWidth","rootHeight","clientHeight","clientWidth","newShift","newPos","newDuration","jumpTo","to","scrollType","parseFloat","Element","contentSize","parseInt","handleEvent","ignoreBeforeAfter","aspectBeforeAfter","fnOnName","that","disallowFire","preventBefore","callAfter","test","target","preventDefault","cancel","_resizeID"],"mappings":"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","file":"radjs-scrollview.min.js","sourcesContent":["(function (root, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(\"radjs-scrollview\", function () {\n\t\t\troot.RADJS_ScrollView = factory();\n\t\t\treturn root.RADJS_ScrollView;\n\t\t});\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\troot.RADJS_ScrollView = factory();\n\t\tmodule.exports = root.RADJS_ScrollView;\n\t} else {\n\t\troot.RADJS_ScrollView = factory();\n\t}\n}(this, function () {\n\t\"use strict\";\n\n/**\n * Add vendor prefix\n * @param {string} property\n * @return {string}\n */\nfunction addVendorPrefix(property) {\n\tvar prefs = [\"webkit\", \"moz\", \"ms\", \"o\"], index, $div = document.createElement(\"div\"),\n\t\tresult = property.toLowerCase(), arrayOfPrefixes = [];\n\n\tfunction capitalise(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tfor (index = 0; index < prefs.length; index += 1) {\n\t\tarrayOfPrefixes.push(prefs[index] + capitalise(property));\n\t}\n\tfor (index = 0; index < arrayOfPrefixes.length; index += 1) {\n\t\tif ($div.style[arrayOfPrefixes[index]] !== undefined) {\n\t\t\tresult = \"-\" + prefs[index] + \"-\" + property;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Extend first on object with second\n * @param {Object} old\n * @param {Object} newMixin\n * @return {Object}\n */\nfunction mix(old, newMixin) {\n\tvar attr;\n\tfor (attr in newMixin) {\n\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\told[attr] = newMixin[attr];\n\t\t}\n\t}\n\treturn old;\n}\n\n(function (_window) {\n\t_window.Date.now || (_window.Date.now = function () {\n\t\treturn +new Date;\n\t});\n})(window);\n\n(function (_window) {\n\t_window.performance || (_window.performance = {});\n\t_window.performance.now && (_window.performance.now = performance.webkitNow || performance.mozNow || performance.msNow ||\n\t\tperformance.oNow || function () {\n\t\t\treturn Date.now()\n\t\t})\n})(window);\n\n(function (_window) {\n\tvar lastTime = 0;\n\tvar vendors = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\tfor (var x = 0; x < vendors.length && !_window.requestAnimationFrame; ++x) {\n\t\t_window.requestAnimationFrame = _window[vendors[x] + \"RequestAnimationFrame\"];\n\t\t_window.cancelAnimationFrame = _window[vendors[x] + \"CancelAnimationFrame\"]\n\t\t\t|| _window[vendors[x] + \"CancelRequestAnimationFrame\"];\n\t}\n\t_window.requestAnimationFrame || (_window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = Date.now();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = _window.setTimeout(function () {\n\t\t\t\tcallback(currTime + timeToCall)\n\t\t\t},\n\t\t\ttimeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id\n\t});\n\t_window.cancelAnimationFrame || (_window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t});\n}(window));\n\n/**\n * Scrollbar for view\n * @param {HTMLElement} container\n * @param {Object} options\n * @constructor\n */\nfunction ScrollBar(container, options) {\n\toptions = mix({\n\t\tclassName: \"scrollbar\",\n\t\tdirection: \"vertical\"\n\t}, options);\n\tthis.direction = options.direction;\n\tthis._container = container;\n\tthis._bar = document.createElement(\"div\");\n\tthis._bar.style.position = \"absolute\";\n\tthis._bar.className = options.className;\n\tthis._bar.style.opacity = 0;\n\tthis._container.appendChild(this._bar);\n\tthis._containerSize = 0;\n\tthis._position = 0;\n\tthis._max = 0;\n\tthis._translateArray = this.direction === \"vertical\" ? [\"translate3d(0, \", 0, \"px, 0)\"] : [\"translate3d(\", 0, \"px, 0, 0)\"];\n}\nScrollBar.prototype = {\n\t/**\n\t * @private\n\t */\n\t_transformName: addVendorPrefix(\"transform\"),\n\t/**\n\t * @private\n\t */\n\t_transitionName: addVendorPrefix(\"transition\"),\n\t/**\n\t * @public\n\t */\n\tsetPosition: function (position) {\n\t\tthis._position = position;\n\t\tthis._translateArray[1] = -position * this._containerSize / this._max;\n\t\tif (this._translateArray[1] <= 0) {\n\t\t\tthis._translateArray[1] = 0;\n\t\t} else if (this._translateArray[1] >= this._containerSize) {\n\t\t\tthis._translateArray[1] = this._containerSize;\n\t\t}\n\t\tthis._bar.style[this._transformName] = this._translateArray.join(\"\");\n\t},\n\t/**\n\t * @public\n\t */\n\trefresh: function (max) {\n\t\tvar bar = this;\n\t\tthis._max = max;\n\t\tif (Math.max(0, max) === 0) {\n\t\t\tthis._bar.style.opacity = 0;\n\t\t} else {\n\t\t\tthis._bar.style.opacity = 1;\n\t\t}\n\t\tif (this.direction === \"vertical\") {\n\t\t\tthis._bar.style.height = this._container.offsetHeight * (this._container.offsetHeight / (max + this._container.offsetHeight)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetHeight - this._bar.offsetHeight;\n\t\t} else {\n\t\t\tthis._bar.style.width = this._container.offsetWidth * (this._container.offsetWidth / (max + this._container.offsetWidth)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetWidth - this._bar.offsetWidth;\n\t\t}\n\t\tthis._bar.style[this._transitionName] = \"transform 300ms\";\n\t\tthis.setPosition(this._position);\n\t\tsetTimeout(function () {\n\t\t\tbar._bar.style[bar._transitionName] = \"transform 0ms\";\n\t\t}, 350);\n\t}\n};\n\nvar ScrollView = (function () {\n\t/**\n\t * Scroll wrapper with additional features\n\t * @param {HTMLElement} element\n\t * @param {Object} options - options for current instance of scrollview\n\t * @extends {EventListener}\n\t * @constructor\n\t */\n\tfunction ScrollView(element, options) {\n\t\tvar scrollView = this, validPosition, tmpVar, event;\n\t\tthis._options = mix({\n\t\t\tpreventMove: true,\n\t\t\tresizeEvent: true,\n\t\t\tscroll: true,\n\t\t\tbounds: false,\n\t\t\tdirection: \"vertical\",\n\t\t\tmarginMIN: 0,\n\t\t\tmarginMAX: 0,\n\t\t\tonScroll: function (shift) {\n\t\t\t},\n\t\t\tonScrollBefore: function (shift) {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonScrollAfter: function () {\n\t\t\t},\n\t\t\tonScrollTypeChange: function (type) {\n\t\t\t}\n\t\t}, options);\n\t\t// Initialize inner variables on creation\n\t\tif (this._options.direction === \"vertical\") {\n\t\t\tthis._transitionArray = [\"translate3d(0, \", 0, \"px, 0)\"];\n\t\t\tthis._coordName = \"screenY\";\n\t\t\tthis._speedName = \"speedY\";\n\t\t} else {\n\t\t\tthis._transitionArray = [\"translate3d(\", 0, \"px, 0, 0)\"];\n\t\t\tthis._coordName = \"screenX\";\n\t\t\tthis._speedName = \"speedX\";\n\t\t}\n\t\tthis._animParams = null; // move or not in current time scrolling view\n\t\tthis._RafID = null; // ID of request animation frame\n\t\tthis._lastPointerPosition = 0; // position of touch pointer, when is touched\n\t\tthis._shift = 0; // shift for next requestAnimationFrame tick\n\t\tthis._motionType = this._lastMotionType = this._STRINGS.stop;\n\t\tthis._isMoved = false;\n\t\tthis._tmp = {shift: 0, now: 0, easing: 0, velocity: 0};\n\t\tthis._pos = 0;\n\t\tthis._root = element;\n\t\tthis._wrapper = element.firstElementChild;\n\t\t// Prepare environment\n\t\tvalidPosition = [\"fixed\", \"relative\", \"absolute\"];\n\t\ttmpVar = validPosition.indexOf(window.getComputedStyle(element, null).position);\n\t\tif (tmpVar === -1) {\n\t\t\ttmpVar = validPosition.indexOf(element.style.position);\n\t\t}\n\t\tif (tmpVar === -1) {\n\t\t\tthis._root.style.position = \"relative\";\n\t\t} else {\n\t\t\tthis._root.style.position = validPosition[tmpVar];\n\t\t}\n\t\tthis._root.style.overflow = \"hidden\";\n\t\tthis._wrapper.style.margin = 0;\n\t\tthis._wrapper.style.position = \"absolute\";\n\t\tthis._wrapper.style[this._transitionName] = \"transform 0ms\";\n\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\tthis._root.addEventListener(this.TRACKING_EVENTS[event], this, false);\n\t\t\t}\n\t\t}\n\t\tif (this._options.resizeEvent) {\n\t\t\twindow.addEventListener(this.TRACKING_EVENTS.resize, this, false);\n\t\t}\n\t\t// Animation step function\n\t\tthis._animationStep = function (timestamp) {\n\t\t\tif (!scrollView._options.scroll) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tscrollView._calculateShift(timestamp);\n\t\t\tscrollView._pos -= scrollView._shift;\n\t\t\t// Check bounds\n\t\t\tif ((scrollView._motionType !== scrollView._STRINGS.tweak) ||\n\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\tif (scrollView._pos < scrollView._min - scrollView._margine) {\n\t\t\t\t\tscrollView._pos = scrollView._min - scrollView._margine;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t\tif (scrollView._pos > scrollView._margine + scrollView._max) {\n\t\t\t\t\tscrollView._pos = scrollView._margine + scrollView._max;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (scrollView._shift !== 0) { // Callbacks\n\t\t\t\tif ((!scrollView._isMoved) && !scrollView._options.onScrollBefore(scrollView._shift)) {\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.stop;\n\t\t\t\t} else {\n\t\t\t\t\tscrollView._isMoved = true;\n\t\t\t\t\tscrollView._options.onScroll(scrollView._shift, scrollView._pos);\n\t\t\t\t\t// Call onScrollTypeChange callback if type of motion was changed\n\t\t\t\t\tif ((scrollView._lastMotionType !== scrollView._motionType) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.checkTweak) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\t\t\tscrollView._options.onScrollTypeChange(scrollView._motionType);\n\t\t\t\t\t\tscrollView._lastMotionType = scrollView._motionType;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tscrollView._transitionArray[1] = scrollView._pos;\n\t\t\t// Endpoint round or post next loop\n\t\t\tif (scrollView._motionType === scrollView._STRINGS.stop) {\n\t\t\t\tscrollView._transitionArray[1] = Math.round(scrollView._transitionArray[1]);\n\t\t\t\tif (scrollView._isMoved) {\n\t\t\t\t\tscrollView._options.onScrollAfter();\n\t\t\t\t}\n\t\t\t\tscrollView._isMoved = false;\n\t\t\t} else {\n\t\t\t\tscrollView._RafID = window.requestAnimationFrame(scrollView._animationStep);\n\t\t\t}\n\t\t\tscrollView._wrapper.style[scrollView._transformName] = scrollView._transitionArray.join(\"\");\n\t\t\tscrollView._shift = 0;\n\t\t};\n\t\t// Start\n\t\tthis.refresh();\n\t}\n\n\tScrollView.prototype = {\n\t\tTRACKING_EVENTS: {\n\t\t\tresize: \"resize\",\n\t\t\tup: \"pointerup\",\n\t\t\tmove: \"pointermove\",\n\t\t\tdown: \"pointerdown\",\n\t\t\tchancel: \"pointercancel\",\n\t\t\tfling: \"fling\",\n\t\t\tleave: \"pointerleave\"\n\t\t},\n\t\t_STRINGS: {\n\t\t\ttweak: \"tweak\",\n\t\t\tcheckTweak: \"checkTweak\",\n\t\t\tstop: \"stop\",\n\t\t\tscroll: \"scroll\",\n\t\t\tfling: \"fling\",\n\t\t\tmove: \"move\"\n\t\t},\n\t\t_transitionName: addVendorPrefix(\"transition\"),\n\t\t_transformName: addVendorPrefix(\"transform\"),\n\t\t_calculateShift: function (now) {\n\t\t\t// If it first time of RAF loop - save timestamp for calculations\n\t\t\tif (this._animParams.startTime === null) {\n\t\t\t\tthis._animParams.startTime = now;\n\t\t\t\tthis._animParams.lastTime = now;\n\t\t\t}\n\t\t\t// Check different types of motion\n\t\t\tswitch (this._motionType) {\n\t\t\t\tcase this._STRINGS.move:\n\t\t\t\t\tconsole.info(\"move\");\n\t\t\t\t\tthis._shift /= ((this._pos < this._min) || (this._pos > this._max)) ? 3 : 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.fling:\n\t\t\t\t\t// Setup shift value & decrease velocity\n\t\t\t\t\tthis._shift = this._animParams.velocity * (now - this._animParams.lastTime);\n\t\t\t\t\tthis._tmp.velocity =\n\t\t\t\t\t\tthis._animParams.velocity + this._animParams.a * (now - this._animParams.startTime);\n\t\t\t\t\t// Check changing of velocity sign\n\t\t\t\t\tif (this._tmp.velocity / this._animParams.velocity > 0) {\n\t\t\t\t\t\tthis._animParams.velocity = this._tmp.velocity;\n\t\t\t\t\t\t// Decrease velocity when scroller out of borders\n\t\t\t\t\t\tif (((this._pos < this._min) && (this._animParams.velocity > 0)) ||\n\t\t\t\t\t\t\t((this._pos > this._max) && (this._animParams.velocity < 0))) {\n\t\t\t\t\t\t\tthis._animParams.velocity += -this._animParams.velocity * 0.6;\n\t\t\t\t\t\t\tif (Math.abs(this._shift) < 0.05) {\n\t\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.tweak:\n\t\t\t\tcase this._STRINGS.scroll:\n\t\t\t\t\tthis._tmp.now = Math.ceil(1e3 * (now - this._animParams.startTime) / this._animParams.duration) / 1e3;\n\t\t\t\t\tthis._tmp.easing = this.easeFunc(this._tmp.now);\n\t\t\t\t\tthis._tmp.shift = Math.ceil(1e3 * this._animParams.shift * this._tmp.easing) / 1e3;\n\t\t\t\t\tif (this._animParams.duration !== 0) {\n\t\t\t\t\t\tthis._shift = this._tmp.shift - this._animParams.lastShift;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._shift = this._animParams.shift;\n\t\t\t\t\t\tthis._tmp.now = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._tmp.now >= 1) {\n\t\t\t\t\t\tif (this._motionType === this._STRINGS.tweak) {\n\t\t\t\t\t\t\tthis._shift = this._animParams.shift - this._animParams.lastShift;\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams.lastShift = this._tmp.shift;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.checkTweak:\n\t\t\t\t\tif (this._pos > this._max) {\n\t\t\t\t\t\tthis._tmp.shift = this._max - this._pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this._pos < this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._min - this._pos;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._tmp.shift = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this._options.tweak && this._tmp.shift === 0) {\n\t\t\t\t\t\tif (this._pos < this._max && this._pos > this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._pos -\n\t\t\t\t\t\t\t\tMath.ceil(1e3 * Math.round(this._pos / this._options.tweak) * this._options.tweak) / 1e3;\n\t\t\t\t\t\t\tthis._tmp.shift = -this._tmp.shift;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams = {\n\t\t\t\t\t\tshift: -this._tmp.shift,\n\t\t\t\t\t\tlastShift: 0,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tstartTime: now,\n\t\t\t\t\t\tlastTime: null\n\t\t\t\t\t};\n\t\t\t\t\tif (this._tmp.shift !== 0) {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.tweak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._animParams.lastTime = now;\n\t\t\tthis._shift = (!isNaN(this._shift)) ? this._shift : 0;\n\t\t},\n\t\t_eventPointerDown: function (event) {\n\t\t\twindow.cancelAnimationFrame(this._RafID); // stop any animations\n\t\t\tthis._lastPointerPosition = event[this._coordName]; //save current position for next loop of RAF\n\t\t\tthis._animParams = {}; //start looping by requestAnimationFrame\n\t\t\tthis._motionType = this._STRINGS.move;\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\t_eventPointerMove: function (event) {\n\t\t\tthis._shift += this._lastPointerPosition - event[this._coordName];\n\t\t\tthis._lastPointerPosition = event[this._coordName];\n\t\t},\n\t\t_eventPointerUp: function (event) {\n\t\t\tif (this._motionType !== this._STRINGS.fling) {\n\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t}\n\t\t\tthis._eventPointerMove(event);\n\t\t},\n\t\t_eventFling: function (event) {\n\t\t\tvar velocity = this._options.scroll ? -event[this._speedName] : 0;\n\t\t\tif (velocity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animParams = {\n\t\t\t\tvelocity: velocity,\n\t\t\t\ta: -(velocity < 0 ? -1 : 1) * 0.00009,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._motionType = this._STRINGS.fling;\n\t\t},\n\t\tpreventDefaultTags: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n\t\teaseFunc: function (time) {\n\t\t\treturn time * (2 - time);\n\t\t},\n\t\tdestroy: function () {\n\t\t\tvar event;\n\t\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\t\tthis._root.removeEventListener(this.TRACKING_EVENTS[event], this);\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.removeEventListener(this.TRACKING_EVENTS.resize, this);\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._root = null;\n\t\t\tthis._wrapper = null;\n\t\t\tthis._options = null;\n\t\t},\n\t\trefresh: function () {\n\t\t\tvar rootWidth = this._root.offsetWidth, rootHeight = this._root.offsetHeight;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\tif (this._options.direction === \"vertical\") {\n\t\t\t\tthis._min = (rootHeight <= this._wrapper.clientHeight) ?\n\t\t\t\trootHeight - this._wrapper.clientHeight - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootHeight / 3) : 0;\n\t\t\t} else {\n\t\t\t\tthis._min = (rootWidth <= this._wrapper.offsetWidth) ?\n\t\t\t\trootWidth - this._wrapper.clientWidth - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootWidth / 3) : 0;\n\t\t\t}\n\t\t\tthis._max = this._options.marginMIN;\n\t\t\tthis._motionType = this._STRINGS.checkTweak; // prepare and start tweak\n\t\t\tthis._animParams = {};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tscroll: function (shift, duration) {\n\t\t\tvar newDuration = duration, newShift, newPos;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t// check bounds\n\t\t\tif (shift !== 0) {\n\t\t\t\tnewPos = this._pos + shift;\n\t\t\t\tif (newPos < this._min) {\n\t\t\t\t\tnewShift = this._min - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t\tif (newPos > this._max) {\n\t\t\t\t\tnewShift = this._max - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshift = this._options.scroll ? shift : 0;\n\t\t\tthis._motionType = this._STRINGS.scroll; //start looping by requestAnimationFrame\n\t\t\tthis._animParams = {\n\t\t\t\tshift: -shift,\n\t\t\t\tlastShift: 0,\n\t\t\t\tduration: newDuration,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tjumpTo: function (to) {\n\t\t\tvar scrollType, position = 0;\n\t\t\tif (typeof to === \"string\") {\n\t\t\t\tif(to.slice(-1) === \"%\") {\n\t\t\t\t\tscrollType = 1; // percent\n\t\t\t\t} else {\n\t\t\t\t\tscrollType = 0; // pixel\n\t\t\t\t}\n\t\t\t\tposition = parseFloat(to);\n\t\t\t} else if (to instanceof Element) {\n\t\t\t\tscrollType = 2; // element\n\t\t\t} else {\n\t\t\t\tscrollType = 0; // pixel\n\t\t\t\tposition = parseFloat(to);\n\t\t\t}\n\t\t\tposition < 0 && (position = 0);\n\t\t\tswitch (scrollType) {\n\t\t\t\tcase 0: // pixel\n\t\t\t\t\tvar contentSize = 0;\n\t\t\t\t\tif (this._options.direction == \"vertical\") {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetHeight - this._root.offsetHeight;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position) * -1;\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(0, \" + position + \"px, 0)\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetWidth;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position);\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(\" + position + \"px, 0, 0)\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1: //percent\n\t\t\t\t\t// @todo implement\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2: //element\n\t\t\t\t\t// @todo implement\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandleEvent: function (event, ignoreBeforeAfter) {\n\t\t\tvar that = this;\n\t\t\tfunction aspectBeforeAfter(fnOnName) {\n\t\t\t\treturn typeof that._options[fnOnName] === \"function\" && (!ignoreBeforeAfter);\n\t\t\t} // if in options named function is defined and should not be ignored by `ignoreBeforeAfter`\n\t\t\tfunction disallowFire(fnOnName) {\n\t\t\t\treturn that._options[fnOnName](event) === false;\n\t\t\t} // function with this event return false, and event should be prevented\n\t\t\tfunction preventBefore (fnOnName) {\n\t\t\t\treturn aspectBeforeAfter(fnOnName) && disallowFire(fnOnName);\n\t\t\t}\n\t\t\tfunction callAfter(fnOnName) {\n\t\t\t\tif (aspectBeforeAfter(fnOnName)) {\n\t\t\t\t\tthat._options[fnOnName](event);\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch (event.type) {\n\t\t\t\tcase this.TRACKING_EVENTS.down:\n\t\t\t\t\tif (preventBefore(\"onDownBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerDown(event);\n\t\t\t\t\tcallAfter(\"onDownAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.move:\n\t\t\t\t\tif (preventBefore(\"onMoveBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerMove(event);\n\t\t\t\t\tif (this._options.preventMove && !this.preventDefaultTags.test(event.target)) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tcallAfter(\"onMoveAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.cancel:\n\t\t\t\t\tif (preventBefore(\"onCancelBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onCancelAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.up:\n\t\t\t\t\tif (preventBefore(\"onUpBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onUpAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.leave:\n\t\t\t\t\tif (preventBefore(\"onLeaveBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onLeaveAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.fling:\n\t\t\t\t\tif (preventBefore(\"onFlingBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventFling(event);\n\t\t\t\t\tcallAfter(\"onFlingAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.resize:\n\t\t\t\t\tif (preventBefore(\"onResizeBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclearTimeout(this._resizeID);\n\t\t\t\t\tthis._resizeID = setTimeout(function () {\n\t\t\t\t\t\tthat.refresh();\n\t\t\t\t\t\tcallAfter(\"onResizeAfter\");\n\t\t\t\t\t}, 250);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\tScrollView.ScrollBar = ScrollBar;\n\treturn ScrollView;\n}());\n\n\n\treturn ScrollView;\n}));\n"],"sourceRoot":"/source/"}