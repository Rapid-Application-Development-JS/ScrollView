{"version":3,"sources":["radjs-scrollview.min.js"],"names":["root","factory","define","amd","RADJS_ScrollView","module","exports","this","addVendorPrefix","property","capitalise","string","charAt","toUpperCase","slice","index","prefs","$div","document","createElement","result","toLowerCase","arrayOfPrefixes","length","push","undefined","style","mix","old","newMixin","attr","hasOwnProperty","ElementSizeWatch","$wrapper","$content","direction","onFit","onScroll","interval","_root","_inner","_root_h","clientHeight","_root_w","clientWidth","_inner_h","scrollHeight","_inner_w","scrollWidth","_direction","_onFit","_onScroll","that","setInterval","_tick","ScrollBar","container","options","className","smart","_container","_bar","position","opacity","appendChild","_containerSize","_position","_max","_translateArray","Element","_smart","ScrollView","setAttribute","bind","removeAttribute","prototype","_timerID","destroy","clearInterval","_window","Date","now","window","performance","webkitNow","mozNow","msNow","oNow","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","timeToCall","Math","max","id","setTimeout","clearTimeout","_transformName","_transitionName","setPosition","join","refresh","bar","height","offsetHeight","width","offsetWidth","element","validPosition","tmpVar","event","scrollView","_options","preventMove","resizeEvent","scroll","bounds","marginMIN","marginMAX","shift","onScrollBefore","onScrollAfter","onScrollTypeChange","type","_transitionArray","_coordName","_speedName","_animParams","_RafID","_lastPointerPosition","_shift","_motionType","_lastMotionType","_STRINGS","stop","_isMoved","_tmp","easing","velocity","_pos","_wrapper","firstElementChild","indexOf","getComputedStyle","overflow","margin","TRACKING_EVENTS","addEventListener","resize","_animationStep","timestamp","_calculateShift","tweak","_min","_margine","checkTweak","round","version","up","move","down","chancel","fling","leave","startTime","a","abs","ceil","duration","easeFunc","lastShift","isNaN","_eventPointerDown","_eventPointerMove","_eventPointerUp","_eventFling","preventDefaultTags","time","removeEventListener","rootWidth","rootHeight","newShift","newPos","newDuration","jumpTo","to","scrollType","parseFloat","contentSize","parseInt","handleEvent","ignoreBeforeAfter","aspectBeforeAfter","fnOnName","disallowFire","preventBefore","callAfter","test","target","preventDefault","cancel","_resizeID"],"mappings":"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","file":"radjs-scrollview.min.js","sourcesContent":["(function (root, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(\"radjs-scrollview\", function () {\n\t\t\troot.RADJS_ScrollView = factory();\n\t\t\treturn root.RADJS_ScrollView;\n\t\t});\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\troot.RADJS_ScrollView = factory();\n\t\tmodule.exports = root.RADJS_ScrollView;\n\t} else {\n\t\troot.RADJS_ScrollView = factory();\n\t}\n}(this, function () {\n\t\"use strict\";\n\n/**\n * Add vendor prefix\n * @param {string} property\n * @return {string}\n */\nfunction addVendorPrefix(property) {\n\tvar prefs = [\"webkit\", \"moz\", \"ms\", \"o\"], index, $div = document.createElement(\"div\"),\n\t\tresult = property.toLowerCase(), arrayOfPrefixes = [];\n\n\tfunction capitalise(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tfor (index = 0; index < prefs.length; index += 1) {\n\t\tarrayOfPrefixes.push(prefs[index] + capitalise(property));\n\t}\n\tfor (index = 0; index < arrayOfPrefixes.length; index += 1) {\n\t\tif ($div.style[arrayOfPrefixes[index]] !== undefined) {\n\t\t\tresult = \"-\" + prefs[index] + \"-\" + property;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Extend first on object with second\n * @param {Object} old\n * @param {Object} newMixin\n * @return {Object}\n */\nfunction mix(old, newMixin) {\n\tvar attr;\n\tfor (attr in newMixin) {\n\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\told[attr] = newMixin[attr];\n\t\t}\n\t}\n\treturn old;\n}\nfunction ElementSizeWatch($wrapper, $content, direction, onFit, onScroll, interval) {\n\tthis._root = $wrapper;\n\tthis._inner = $content;\n\tthis._root_h = $wrapper.clientHeight;\n\tthis._root_w = $wrapper.clientWidth;\n\tthis._inner_h = $content.scrollHeight;\n\tthis._inner_w = $content.scrollWidth;\n\tthis._direction = direction;\n\tthis._onFit = onFit;\n\tthis._onScroll = onScroll;\n\tvar that = this;\n\tsetInterval(function () {\n\t\tthat._tick();\n\t}, interval);\n}\nElementSizeWatch.prototype = {\n\t_root: null,\n\t_inner: null,\n\t_direction: null,\n\t_timerID: null,\n\t_root_h: 0,\n\t_root_w: 0,\n\t_inner_h: 0,\n\t_inner_w: 0,\n\t_onFit: null,\n\t_onScroll: null,\n\t_tick: function () {\n\t\tswitch (this._direction) {\n\t\t\tcase \"horizontal\":\n\t\t\t\tif (this._root.clientWidth != this._root_w || this._inner.scrollWidth != this._inner_w) {\n\t\t\t\t\tthis._root_w = this._root.clientWidth;\n\t\t\t\t\tthis._inner_w = this._inner.scrollWidth;\n\t\t\t\t\tif (this._root_w >= this._inner_w) {\n\t\t\t\t\t\tthis._onFit();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._onScroll();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"vertical\":\n\t\t\t\tif (this._root.clientHeight != this._root_h || this._inner.scrollHeight != this._inner_h) {\n\t\t\t\t\tthis._root_h = this._root.clientHeight;\n\t\t\t\t\tthis._inner_h = this._inner.scrollHeight;\n\t\t\t\t\tif (this._root_h >= this._inner_h) {\n\t\t\t\t\t\tthis._onFit();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._onScroll();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (this._root.clientWidth != this._root_w || this._inner.scrollWidth != this._inner_w\n\t\t\t\t\t|| this._root.clientHeight != this._root_h || this._inner.scrollHeight != this._inner_h) {\n\t\t\t\t\tthis._root_w = this._root.clientWidth;\n\t\t\t\t\tthis._inner_w = this._inner.scrollWidth;\n\t\t\t\t\tthis._root_h = this._root.clientHeight;\n\t\t\t\t\tthis._inner_h = this._inner.scrollHeight;\n\t\t\t\t\tif (this._root_w >= this._inner_w && this._root_h >= this._inner_h) {\n\t\t\t\t\t\tthis._onFit();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._onScroll();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tdestroy: function () {\n\t\tclearInterval(this._timerID);\n\t}\n};\n\n(function (_window) {\n\t_window.Date.now || (_window.Date.now = function () {\n\t\treturn +new Date;\n\t});\n})(window);\n\n(function (_window) {\n\t_window.performance || (_window.performance = {});\n\t_window.performance.now && (_window.performance.now = performance.webkitNow || performance.mozNow || performance.msNow ||\n\t\tperformance.oNow || function () {\n\t\t\treturn Date.now()\n\t\t})\n})(window);\n\n(function (_window) {\n\tvar lastTime = 0;\n\tvar vendors = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\tfor (var x = 0; x < vendors.length && !_window.requestAnimationFrame; ++x) {\n\t\t_window.requestAnimationFrame = _window[vendors[x] + \"RequestAnimationFrame\"];\n\t\t_window.cancelAnimationFrame = _window[vendors[x] + \"CancelAnimationFrame\"]\n\t\t\t|| _window[vendors[x] + \"CancelRequestAnimationFrame\"];\n\t}\n\t_window.requestAnimationFrame || (_window.requestAnimationFrame = function (callback) {\n\t\tvar currTime = Date.now();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = _window.setTimeout(function () {\n\t\t\t\tcallback(currTime + timeToCall)\n\t\t\t},\n\t\t\ttimeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id\n\t});\n\t_window.cancelAnimationFrame || (_window.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t});\n}(window));\n\n/**\n * Scrollbar for view\n * @param {HTMLElement} container\n * @param {Object} options\n * @constructor\n */\nfunction ScrollBar(container, options) {\n\toptions = mix({\n\t\tclassName: \"scrollbar\",\n\t\tdirection: \"vertical\",\n\t\tsmart: null\n\t}, options);\n\tthis.direction = options.direction;\n\tthis._container = container;\n\tthis._bar = document.createElement(\"div\");\n\tthis._bar.style.position = \"absolute\";\n\tthis._bar.className = options.className;\n\tthis._bar.style.opacity = 0;\n\tthis._container.appendChild(this._bar);\n\tthis._containerSize = 0;\n\tthis._position = 0;\n\tthis._max = 0;\n\tthis._translateArray = this.direction === \"vertical\" ? [\"translate3d(0, \", 0, \"px, 0)\"] : [\"translate3d(\", 0, \"px, 0, 0)\"];\n\tif (options.smart instanceof Element) {\n\t\tthis._smart = new ScrollView.ElementSizeWatch(container, options.smart, options.direction, function () {\n\t\t\tthis._bar.setAttribute(\"hidden\", \"hidden\");\n\t\t}.bind(this), function () {\n\t\t\tthis._bar.removeAttribute(\"hidden\");\n\t\t}.bind(this), 1e3);\n\t}\n}\nScrollBar.prototype = {\n\t/**\n\t * @private\n\t */\n\t_transformName: addVendorPrefix(\"transform\"),\n\t/**\n\t * @private\n\t */\n\t_transitionName: addVendorPrefix(\"transition\"),\n\t/**\n\t * @public\n\t */\n\tsetPosition: function (position) {\n\t\tthis._position = position;\n\t\tthis._translateArray[1] = -position * this._containerSize / this._max;\n\t\tif (this._translateArray[1] <= 0) {\n\t\t\tthis._translateArray[1] = 0;\n\t\t} else if (this._translateArray[1] >= this._containerSize) {\n\t\t\tthis._translateArray[1] = this._containerSize;\n\t\t}\n\t\tthis._bar.style[this._transformName] = this._translateArray.join(\"\");\n\t},\n\t/**\n\t * @public\n\t */\n\trefresh: function (max) {\n\t\tvar bar = this;\n\t\tthis._max = max;\n\t\tif (Math.max(0, max) === 0) {\n\t\t\tthis._bar.style.opacity = 0;\n\t\t} else {\n\t\t\tthis._bar.style.opacity = 1;\n\t\t}\n\t\tif (this.direction === \"vertical\") {\n\t\t\tthis._bar.style.height = this._container.offsetHeight * (this._container.offsetHeight / (max + this._container.offsetHeight)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetHeight - this._bar.offsetHeight;\n\t\t} else {\n\t\t\tthis._bar.style.width = this._container.offsetWidth * (this._container.offsetWidth / (max + this._container.offsetWidth)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetWidth - this._bar.offsetWidth;\n\t\t}\n\t\tthis._bar.style[this._transitionName] = \"transform 300ms\";\n\t\tthis.setPosition(this._position);\n\t\tsetTimeout(function () {\n\t\t\tbar._bar.style[bar._transitionName] = \"transform 0ms\";\n\t\t}, 350);\n\t},\n\tdestroy: function () {\n\t\tif (this._smart) {\n\t\t\tthis._smart.destroy();\n\t\t}\n\t}\n};\n\nvar ScrollView = (function () {\n\t/**\n\t * Scroll wrapper with additional features\n\t * @param {HTMLElement} element\n\t * @param {Object} options - options for current instance of scrollview\n\t * @extends {EventListener}\n\t * @constructor\n\t */\n\tfunction ScrollView(element, options) {\n\t\tvar scrollView = this, validPosition, tmpVar, event;\n\t\tthis._options = mix({\n\t\t\tpreventMove: true,\n\t\t\tresizeEvent: true,\n\t\t\tscroll: true,\n\t\t\tbounds: false,\n\t\t\tdirection: \"vertical\",\n\t\t\tmarginMIN: 0,\n\t\t\tmarginMAX: 0,\n\t\t\tonScroll: function (shift) {\n\t\t\t},\n\t\t\tonScrollBefore: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tonScrollAfter: function () {\n\t\t\t},\n\t\t\tonScrollTypeChange: function (type) {\n\t\t\t}\n\t\t}, options);\n\t\t// Initialize inner variables on creation\n\t\tif (this._options.direction === \"vertical\") {\n\t\t\tthis._transitionArray = [\"translate3d(0, \", 0, \"px, 0)\"];\n\t\t\tthis._coordName = \"screenY\";\n\t\t\tthis._speedName = \"speedY\";\n\t\t} else {\n\t\t\tthis._transitionArray = [\"translate3d(\", 0, \"px, 0, 0)\"];\n\t\t\tthis._coordName = \"screenX\";\n\t\t\tthis._speedName = \"speedX\";\n\t\t}\n\t\tthis._animParams = null; // move or not in current time scrolling view\n\t\tthis._RafID = null; // ID of request animation frame\n\t\tthis._lastPointerPosition = 0; // position of touch pointer, when is touched\n\t\tthis._shift = 0; // shift for next requestAnimationFrame tick\n\t\tthis._motionType = this._lastMotionType = this._STRINGS.stop;\n\t\tthis._isMoved = false;\n\t\tthis._tmp = {shift: 0, now: 0, easing: 0, velocity: 0};\n\t\tthis._pos = 0;\n\t\tthis._root = element;\n\t\tthis._wrapper = element.firstElementChild;\n\t\t// Prepare environment\n\t\tvalidPosition = [\"fixed\", \"relative\", \"absolute\"];\n\t\ttmpVar = validPosition.indexOf(window.getComputedStyle(element, null).position);\n\t\tif (tmpVar === -1) {\n\t\t\ttmpVar = validPosition.indexOf(element.style.position);\n\t\t}\n\t\tif (tmpVar === -1) {\n\t\t\tthis._root.style.position = \"relative\";\n\t\t} else {\n\t\t\tthis._root.style.position = validPosition[tmpVar];\n\t\t}\n\t\tthis._root.style.overflow = \"hidden\";\n\t\tthis._wrapper.style.margin = 0;\n\t\tthis._wrapper.style.position = \"absolute\";\n\t\tthis._wrapper.style[this._transitionName] = \"transform 0ms\";\n\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\tthis._root.addEventListener(this.TRACKING_EVENTS[event], this, false);\n\t\t\t}\n\t\t}\n\t\tif (this._options.resizeEvent) {\n\t\t\twindow.addEventListener(this.TRACKING_EVENTS.resize, this, false);\n\t\t}\n\t\t// Animation step function\n\t\tthis._animationStep = function (timestamp) {\n\t\t\tif (!scrollView._options.scroll) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tscrollView._calculateShift(timestamp);\n\t\t\tscrollView._pos -= scrollView._shift;\n\t\t\t// Check bounds\n\t\t\tif ((scrollView._motionType !== scrollView._STRINGS.tweak) ||\n\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\tif (scrollView._pos < scrollView._min - scrollView._margine) {\n\t\t\t\t\tscrollView._pos = scrollView._min - scrollView._margine;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t\tif (scrollView._pos > scrollView._margine + scrollView._max) {\n\t\t\t\t\tscrollView._pos = scrollView._margine + scrollView._max;\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (scrollView._shift !== 0) { // Callbacks\n\t\t\t\tif ((!scrollView._isMoved) && !scrollView._options.onScrollBefore(scrollView._shift)) {\n\t\t\t\t\tscrollView._motionType = scrollView._STRINGS.stop;\n\t\t\t\t} else {\n\t\t\t\t\tscrollView._isMoved = true;\n\t\t\t\t\tscrollView._options.onScroll(scrollView._shift, scrollView._pos);\n\t\t\t\t\t// Call onScrollTypeChange callback if type of motion was changed\n\t\t\t\t\tif ((scrollView._lastMotionType !== scrollView._motionType) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.checkTweak) &&\n\t\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\t\t\tscrollView._options.onScrollTypeChange(scrollView._motionType);\n\t\t\t\t\t\tscrollView._lastMotionType = scrollView._motionType;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tscrollView._transitionArray[1] = scrollView._pos;\n\t\t\t// Endpoint round or post next loop\n\t\t\tif (scrollView._motionType === scrollView._STRINGS.stop) {\n\t\t\t\tscrollView._transitionArray[1] = Math.round(scrollView._transitionArray[1]);\n\t\t\t\tif (scrollView._isMoved) {\n\t\t\t\t\tscrollView._options.onScrollAfter();\n\t\t\t\t}\n\t\t\t\tscrollView._isMoved = false;\n\t\t\t} else {\n\t\t\t\tscrollView._RafID = window.requestAnimationFrame(scrollView._animationStep);\n\t\t\t}\n\t\t\tscrollView._wrapper.style[scrollView._transformName] = scrollView._transitionArray.join(\"\");\n\t\t\tscrollView._shift = 0;\n\t\t};\n\t\t// Start\n\t\tthis.refresh();\n\t}\n\n\tScrollView.prototype = {\n\t\tversion: \"1.0.3\",\n\t\tTRACKING_EVENTS: {\n\t\t\tresize: \"resize\",\n\t\t\tup: \"pointerup\",\n\t\t\tmove: \"pointermove\",\n\t\t\tdown: \"pointerdown\",\n\t\t\tchancel: \"pointercancel\",\n\t\t\tfling: \"fling\",\n\t\t\tleave: \"pointerleave\"\n\t\t},\n\t\t_STRINGS: {\n\t\t\ttweak: \"tweak\",\n\t\t\tcheckTweak: \"checkTweak\",\n\t\t\tstop: \"stop\",\n\t\t\tscroll: \"scroll\",\n\t\t\tfling: \"fling\",\n\t\t\tmove: \"move\"\n\t\t},\n\t\t_transitionName: addVendorPrefix(\"transition\"),\n\t\t_transformName: addVendorPrefix(\"transform\"),\n\t\t_calculateShift: function (now) {\n\t\t\t// If it first time of RAF loop - save timestamp for calculations\n\t\t\tif (this._animParams.startTime === null) {\n\t\t\t\tthis._animParams.startTime = now;\n\t\t\t\tthis._animParams.lastTime = now;\n\t\t\t}\n\t\t\t// Check different types of motion\n\t\t\tswitch (this._motionType) {\n\t\t\t\tcase this._STRINGS.move:\n\t\t\t\t\tthis._shift /= ((this._pos < this._min) || (this._pos > this._max)) ? 3 : 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.fling:\n\t\t\t\t\t// Setup shift value & decrease velocity\n\t\t\t\t\tthis._shift = this._animParams.velocity * (now - this._animParams.lastTime);\n\t\t\t\t\tthis._tmp.velocity =\n\t\t\t\t\t\tthis._animParams.velocity + this._animParams.a * (now - this._animParams.startTime);\n\t\t\t\t\t// Check changing of velocity sign\n\t\t\t\t\tif (this._tmp.velocity / this._animParams.velocity > 0) {\n\t\t\t\t\t\tthis._animParams.velocity = this._tmp.velocity;\n\t\t\t\t\t\t// Decrease velocity when scroller out of borders\n\t\t\t\t\t\tif (((this._pos < this._min) && (this._animParams.velocity > 0)) ||\n\t\t\t\t\t\t\t((this._pos > this._max) && (this._animParams.velocity < 0))) {\n\t\t\t\t\t\t\tthis._animParams.velocity += -this._animParams.velocity * 0.6;\n\t\t\t\t\t\t\tif (Math.abs(this._shift) < 0.05) {\n\t\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.tweak:\n\t\t\t\tcase this._STRINGS.scroll:\n\t\t\t\t\tthis._tmp.now = Math.ceil(1e3 * (now - this._animParams.startTime) / this._animParams.duration) / 1e3;\n\t\t\t\t\tthis._tmp.easing = this.easeFunc(this._tmp.now);\n\t\t\t\t\tthis._tmp.shift = Math.ceil(1e3 * this._animParams.shift * this._tmp.easing) / 1e3;\n\t\t\t\t\tif (this._animParams.duration !== 0) {\n\t\t\t\t\t\tthis._shift = this._tmp.shift - this._animParams.lastShift;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._shift = this._animParams.shift;\n\t\t\t\t\t\tthis._tmp.now = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (this._tmp.now >= 1) {\n\t\t\t\t\t\tif (this._motionType === this._STRINGS.tweak) {\n\t\t\t\t\t\t\tthis._shift = this._animParams.shift - this._animParams.lastShift;\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams.lastShift = this._tmp.shift;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._STRINGS.checkTweak:\n\t\t\t\t\tif (this._pos > this._max) {\n\t\t\t\t\t\tthis._tmp.shift = this._max - this._pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this._pos < this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._min - this._pos;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._tmp.shift = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (this._options.tweak && this._tmp.shift === 0) {\n\t\t\t\t\t\tif (this._pos < this._max && this._pos > this._min) {\n\t\t\t\t\t\t\tthis._tmp.shift = this._pos -\n\t\t\t\t\t\t\t\tMath.ceil(1e3 * Math.round(this._pos / this._options.tweak) * this._options.tweak) / 1e3;\n\t\t\t\t\t\t\tthis._tmp.shift = -this._tmp.shift;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._animParams = {\n\t\t\t\t\t\tshift: -this._tmp.shift,\n\t\t\t\t\t\tlastShift: 0,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tstartTime: now,\n\t\t\t\t\t\tlastTime: null\n\t\t\t\t\t};\n\t\t\t\t\tif (this._tmp.shift !== 0) {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.tweak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._animParams.lastTime = now;\n\t\t\tthis._shift = (!isNaN(this._shift)) ? this._shift : 0;\n\t\t},\n\t\t_eventPointerDown: function (event) {\n\t\t\twindow.cancelAnimationFrame(this._RafID); // stop any animations\n\t\t\tthis._lastPointerPosition = event[this._coordName]; //save current position for next loop of RAF\n\t\t\tthis._animParams = {}; //start looping by requestAnimationFrame\n\t\t\tthis._motionType = this._STRINGS.move;\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\t_eventPointerMove: function (event) {\n\t\t\tthis._shift += this._lastPointerPosition - event[this._coordName];\n\t\t\tthis._lastPointerPosition = event[this._coordName];\n\t\t},\n\t\t_eventPointerUp: function (event) {\n\t\t\tif (this._motionType !== this._STRINGS.fling) {\n\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t}\n\t\t\tthis._eventPointerMove(event);\n\t\t},\n\t\t_eventFling: function (event) {\n\t\t\tvar velocity = this._options.scroll ? -event[this._speedName] : 0;\n\t\t\tif (velocity === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animParams = {\n\t\t\t\tvelocity: velocity,\n\t\t\t\ta: -(velocity < 0 ? -1 : 1) * 0.00009,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._motionType = this._STRINGS.fling;\n\t\t},\n\t\tpreventDefaultTags: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n\t\teaseFunc: function (time) {\n\t\t\treturn time * (2 - time);\n\t\t},\n\t\tdestroy: function () {\n\t\t\tvar event;\n\t\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\t\tthis._root.removeEventListener(this.TRACKING_EVENTS[event], this);\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.removeEventListener(this.TRACKING_EVENTS.resize, this);\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._root = null;\n\t\t\tthis._wrapper = null;\n\t\t\tthis._options = null;\n\t\t},\n\t\trefresh: function () {\n\t\t\tvar rootWidth = this._root.offsetWidth, rootHeight = this._root.offsetHeight;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\tif (this._options.direction === \"vertical\") {\n\t\t\t\tthis._min = (rootHeight <= this._wrapper.clientHeight) ?\n\t\t\t\trootHeight - this._wrapper.clientHeight - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootHeight / 3) : 0;\n\t\t\t} else {\n\t\t\t\tthis._min = (rootWidth <= this._wrapper.offsetWidth) ?\n\t\t\t\trootWidth - this._wrapper.clientWidth - this._options.marginMAX : 0;\n\t\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootWidth / 3) : 0;\n\t\t\t}\n\t\t\tthis._max = this._options.marginMIN;\n\t\t\tthis._motionType = this._STRINGS.checkTweak; // prepare and start tweak\n\t\t\tthis._animParams = {};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tscroll: function (shift, duration) {\n\t\t\tvar newDuration = duration, newShift, newPos;\n\t\t\twindow.cancelAnimationFrame(this._RafID);\n\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t// check bounds\n\t\t\tif (shift !== 0) {\n\t\t\t\tnewPos = this._pos + shift;\n\t\t\t\tif (newPos < this._min) {\n\t\t\t\t\tnewShift = this._min - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t\tif (newPos > this._max) {\n\t\t\t\t\tnewShift = this._max - this._pos;\n\t\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\t\tshift = newShift;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshift = this._options.scroll ? shift : 0;\n\t\t\tthis._motionType = this._STRINGS.scroll; //start looping by requestAnimationFrame\n\t\t\tthis._animParams = {\n\t\t\t\tshift: -shift,\n\t\t\t\tlastShift: 0,\n\t\t\t\tduration: newDuration,\n\t\t\t\tstartTime: null,\n\t\t\t\tlastTime: null\n\t\t\t};\n\t\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t\t},\n\t\tjumpTo: function (to) {\n\t\t\tvar scrollType, position = 0;\n\t\t\tif (typeof to === \"string\") {\n\t\t\t\tif(to.slice(-1) === \"%\") {\n\t\t\t\t\tscrollType = 1; // percent\n\t\t\t\t} else {\n\t\t\t\t\tscrollType = 0; // pixel\n\t\t\t\t}\n\t\t\t\tposition = parseFloat(to);\n\t\t\t} else if (to instanceof Element) {\n\t\t\t\tscrollType = 2; // element\n\t\t\t} else {\n\t\t\t\tscrollType = 0; // pixel\n\t\t\t\tposition = parseFloat(to);\n\t\t\t}\n\t\t\tposition < 0 && (position = 0);\n\t\t\tswitch (scrollType) {\n\t\t\t\tcase 0: // pixel\n\t\t\t\t\tvar contentSize = 0;\n\t\t\t\t\tif (this._options.direction == \"vertical\") {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetHeight - this._root.offsetHeight;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position) * -1;\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(0, \" + position + \"px, 0)\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontentSize = this._wrapper.offsetWidth;\n\t\t\t\t\t\tposition > contentSize && (position = contentSize);\n\t\t\t\t\t\tposition = parseInt(position);\n\t\t\t\t\t\tthis._wrapper.style[this._transformName] = \"translate3d(\" + position + \"px, 0, 0)\";\n\t\t\t\t\t}\n\t\t\t\t\tthis._pos = position + this._shift;\n\t\t\t\t\tthis._shift = 0;\n\t\t\t\t\tthis._lastPointerPosition = event[this._coordName];\n\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1: //percent\n\t\t\t\t\t// @todo implement\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2: //element\n\t\t\t\t\t// @todo implement\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandleEvent: function (event, ignoreBeforeAfter) {\n\t\t\tvar that = this;\n\t\t\tfunction aspectBeforeAfter(fnOnName) {\n\t\t\t\treturn typeof that._options[fnOnName] === \"function\" && (!ignoreBeforeAfter);\n\t\t\t} // if in options named function is defined and should not be ignored by `ignoreBeforeAfter`\n\t\t\tfunction disallowFire(fnOnName) {\n\t\t\t\treturn that._options[fnOnName](event) === false;\n\t\t\t} // function with this event return false, and event should be prevented\n\t\t\tfunction preventBefore (fnOnName) {\n\t\t\t\treturn aspectBeforeAfter(fnOnName) && disallowFire(fnOnName);\n\t\t\t}\n\t\t\tfunction callAfter(fnOnName) {\n\t\t\t\tif (aspectBeforeAfter(fnOnName)) {\n\t\t\t\t\tthat._options[fnOnName](event);\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch (event.type) {\n\t\t\t\tcase this.TRACKING_EVENTS.down:\n\t\t\t\t\tif (preventBefore(\"onDownBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerDown(event);\n\t\t\t\t\tcallAfter(\"onDownAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.move:\n\t\t\t\t\tif (preventBefore(\"onMoveBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerMove(event);\n\t\t\t\t\tif (this._options.preventMove && !this.preventDefaultTags.test(event.target)) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tcallAfter(\"onMoveAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.cancel:\n\t\t\t\t\tif (preventBefore(\"onCancelBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onCancelAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.up:\n\t\t\t\t\tif (preventBefore(\"onUpBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onUpAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.leave:\n\t\t\t\t\tif (preventBefore(\"onLeaveBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\t\tcallAfter(\"onLeaveAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.fling:\n\t\t\t\t\tif (preventBefore(\"onFlingBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._eventFling(event);\n\t\t\t\t\tcallAfter(\"onFlingAfter\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase this.TRACKING_EVENTS.resize:\n\t\t\t\t\tif (preventBefore(\"onResizeBefore\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tclearTimeout(this._resizeID);\n\t\t\t\t\tthis._resizeID = setTimeout(function () {\n\t\t\t\t\t\tthat.refresh();\n\t\t\t\t\t\tcallAfter(\"onResizeAfter\");\n\t\t\t\t\t}, 250);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\tScrollView.ScrollBar = ScrollBar;\n\tScrollView.ElementSizeWatch = ElementSizeWatch;\n\treturn ScrollView;\n}());\n\n\n\treturn ScrollView;\n}));\n"],"sourceRoot":"/source/"}