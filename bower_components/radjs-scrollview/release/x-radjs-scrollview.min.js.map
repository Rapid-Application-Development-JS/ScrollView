{"version":3,"sources":["x-radjs-scrollview.min.js"],"names":["root","factory","define","amd","RADJS_ScrollView","RADJS_Pointer","RADJS_Gesture","module","exports","require","PointerTracker","GestureTracker","this","mix","old","newMixin","attr","hasOwnProperty","parseValue","value","length","undefined","trim","toLowerCase","isNaN","indexOf","parseFloat","parseInt","parseOptions","string","attrs","index","current","key","result","split","proto","Object","create","HTMLDivElement","prototype","createdCallback","refreshMthd","element","options","getAttribute","isInited","parentNode","scrollbar","scrollBar","ScrollBar","className","direction","onScrollBefore","arguments","onScrollAfter","onScroll","setPosition","scroller","pointer","setMoveHoverState","gesture","refresh","apply","_min","scroll","shift","duration","destroy","attachedCallback","detachedCallback","attributeChangedCallback","attrName","oldVal","newVal","document","registerElement","extends"],"mappings":"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","file":"x-radjs-scrollview.min.js","sourcesContent":["(function (root, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(\"x-radjs-scrollview\"\n\t\t\t, [\"radjs-scrollview\", \"radjs-pointer\", \"radjs-gesture\", \"webcomponentsjs\"]\n\t\t\t, function (RADJS_ScrollView, RADJS_Pointer, RADJS_Gesture) {\n\t\t\t\treturn factory(RADJS_ScrollView, RADJS_Pointer, RADJS_Gesture);\n\t\t\t}\n\t\t);\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory(\n\t\t\trequire(\"radjs-scrollview\"), require(\"radjs-pointer\"), require(\"radjs-gesture\"), require(\"webcomponentsjs\")\n\t\t);\n\t} else {\n\t\tfactory(root.PointerTracker || root.RADJS_Pointer, root.GestureTracker || root.RADJS_Gesture);\n\t}\n}(this, function (RADJS_ScrollView, RADJS_Pointer, RADJS_Gesture) {\n\t\"use strict\";\n\tvar proto;\n\n\t/**\n\t * Extend first on object with second\n\t * @param {Object} old\n\t * @param {Object} newMixin\n\t * @return {Object}\n\t */\n\tfunction mix(old, newMixin) {\n\t\tvar attr;\n\t\tfor (attr in newMixin) {\n\t\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\t\told[attr] = newMixin[attr];\n\t\t\t}\n\t\t}\n\t\treturn old;\n\t}\n\n\t/**\n\t * Parse value from string\n\t * @param {string} value\n\t * @return {*}\n\t */\n\tfunction parseValue(value) {\n\t\tif (!value.length) {\n\t\t\treturn undefined;\n\t\t}\n\t\tvalue = value.trim();\n\t\tif (value.toLowerCase() === \"true\") {\n\t\t\treturn true;\n\t\t}\n\t\tif (value.toLowerCase() === \"false\") {\n\t\t\treturn false;\n\t\t}\n\t\tif (value.toLowerCase() === \"null\") {\n\t\t\treturn null;\n\t\t}\n\t\tif (value.toLowerCase() === \"undefined\") {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (isNaN(value)) {\n\t\t\treturn value;\n\t\t}\n\t\tif (value.indexOf(\".\") !== 1) {\n\t\t\treturn parseFloat(value);\n\t\t}\n\t\treturn parseInt(value, 10);\n\t}\n\n\t/**\n\t * Parse string with options\n\t * @param {string} string\n\t * @return {Object}\n\t */\n\tfunction parseOptions(string) {\n\t\tvar result = {}, attrs, index, length, current, key;\n\t\tif (!string || !string.length) {\n\t\t\treturn result;\n\t\t}\n\t\tattrs = string.split(\";\");\n\t\tfor (index = 0, length = attrs.length; index < length; index += 1) {\n\t\t\tcurrent = attrs[index].split(\":\");\n\t\t\tkey = current[0].trim();\n\t\t\tif (key.length) {\n\t\t\t\tresult[key] = parseValue(current[1]);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tproto = Object.create(HTMLDivElement.prototype);\n\tproto.createdCallback = function () {\n\t\tvar element = this, refreshMthd,\n\t\t\toptions = parseOptions(this.getAttribute(\"options\"));\n\t\tif (this.isInited || !this.parentNode) {\n\t\t\treturn;\n\t\t}\n\t\tthis.isInited = true;\n\t\tif (options.scrollbar) {\n\t\t\tthis.scrollBar = new RADJS_ScrollView.ScrollBar(this, {\n\t\t\t\tclassName: options.scrollbar,\n\t\t\t\tdirection: options.direction || \"vertical\"\n\t\t\t});\n\t\t}\n\t\toptions = mix({\n\t\t\t// Decorate onScroll methods\n\t\t\tonScrollBefore: function () {\n\t\t\t\tvar result = true;\n\t\t\t\tif (typeof element.onScrollBefore === \"function\") {\n\t\t\t\t\tresult = element.onScrollBefore(arguments);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tonScrollAfter: function () {\n\t\t\t\tif (typeof element.onScrollAfter === \"function\") {\n\t\t\t\t\telement.onScrollAfter(arguments);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonScroll: function () {\n\t\t\t\tif (element.scrollBar) {\n\t\t\t\t\telement.scrollBar.setPosition(arguments[1]);\n\t\t\t\t}\n\t\t\t\tif (typeof element.onScroll === \"function\") {\n\t\t\t\t\telement.onScroll(arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t}, options);\n\t\tthis.scroller = new RADJS_ScrollView(this, options);\n\t\tthis.pointer = new RADJS_Pointer(this);\n\t\tthis.pointer.setMoveHoverState(false);\n\t\tthis.gesture = new RADJS_Gesture(this);\n\t\trefreshMthd = this.scroller.refresh;\n\t\tthis.scroller.refresh = function () {\n\t\t\trefreshMthd.apply(element.scroller, arguments);\n\t\t\tif (element && element.scrollBar) {\n\t\t\t\telement.scrollBar.refresh(-element.scroller._min);\n\t\t\t}\n\t\t};\n\t\t// Decorate scroll methods\n\t\tthis.refresh = function () {\n\t\t\tthis.scroller.refresh();\n\t\t};\n\t\tthis.scroll = function (shift, duration) {\n\t\t\tthis.scroller.scroll(shift, duration);\n\t\t};\n\t\tthis.destroy = function () {\n\t\t\tthis.scroller.destroy();\n\t\t\tthis.pointer.destroy();\n\t\t\tthis.gesture.destroy();\n\t\t};\n\t};\n\tproto.attachedCallback = function () {\n\t\tthis.refresh();\n\t};\n\tproto.detachedCallback = function () {\n\t};\n\tproto.attributeChangedCallback = function (attrName, oldVal, newVal) {\n\t};\n\treturn document.registerElement(\"x-radjs-scrollview\", {\n\t\textends: \"div\",\n\t\tprototype: proto\n\t});\n}));\n"],"sourceRoot":"/source/"}