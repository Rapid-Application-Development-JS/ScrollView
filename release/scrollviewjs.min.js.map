{"version":3,"sources":["scrollviewjs.min.js"],"names":["root","factory","define","amd","ScrollViewJS","module","exports","this","addVendorPrefix","property","capitalise","string","charAt","toUpperCase","slice","index","prefs","$div","document","createElement","result","toLowerCase","arrayOfPrefixes","length","push","undefined","style","parseValue","value","trim","isNaN","indexOf","parseFloat","parseInt","parseOptions","attrs","current","key","split","mix","old","newMixin","attr","hasOwnProperty","PointerWrapper","element","listener","context","_isDown","_chancelId","_tracks","_tmpEvent","_trackEvents","isTouched","TRACK_TOUCH_EVENTS","TRACK_EVENTS","attach","_listener","notify","event","handleEvent","apply","ScrollBar","container","options","className","direction","_container","_bar","position","opacity","appendChild","_containerSize","_position","_max","_translateArray","validPosition","tmpVar","scrollView","_options","preventMove","resizeEvent","scroll","bounds","marginMIN","marginMAX","onScroll","shift","console","dir","onScrollBefore","onScrollAfter","onScrollTypeChange","type","_transitionArray","_coordName","_speedName","_animParams","_RafID","_lastPointerPosition","_shift","_motionType","_lastMotionType","_STRINGS","stop","_isMoved","_tmp","now","easing","velocity","_pos","_root","_wrapper","firstElementChild","window","getComputedStyle","overflow","margin","_transitionName","TRACKING_EVENTS","addEventListener","resize","_animationStep","timestamp","_calculateShift","tweak","_min","_margine","checkTweak","Math","round","requestAnimationFrame","_transformName","join","refresh","w","Date","performance","webkitNow","mozNow","msNow","oNow","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","timeToCall","max","id","setTimeout","clearTimeout","prototype","touchstart","touchmove","touchend","touchleave","touchcancel","mousedown","mousemove","mouseup","mouseover","mouseout","FIRE_EVENTS","up","down","move","over","chancel","fling","longtap","tap","device","desktop","catchFirstEvent","detach","_catch","_el","removeEventListener","destroy","_pointerDown","_fireEvent","pointerTracker","start","clientX","clientY","timeStamp","pre","last","end","_pointerMove","_pointerUp","distance","x1","x2","y1","y2","pow","isMoved","isFling","pointer","abs","speedX","speedY","i","l","touchEvent","touches","touchID","identifier","changedTouches","screenX","screenY","pointerType","target","currentTarget","preventDefault","stopPropagation","setPosition","bar","height","offsetHeight","width","offsetWidth","startTime","a","ceil","duration","easeFunc","lastShift","_eventPointerDown","_eventPointerMove","_eventPointerUp","_eventFling","V","preventDefaultTags","time","rootWidth","rootHeight","clientHeight","clientWidth","newShift","newPos","newDuration","self","test","_resizeID","proto","Object","create","HTMLDivElement","createdCallback","refreshMthd","getAttribute","isInited","parentNode","scrollbar","scrollBar","arguments","scroller","tracker","attachedCallback","detachedCallback","attributeChangedCallback","attrName","oldVal","newVal","registerElement","extends"],"mappings":"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","file":"scrollviewjs.min.js","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return (root.ScrollViewJS = factory());\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = (root.ScrollViewJS = factory());\n  } else {\n    root.ScrollViewJS = factory();\n  }\n}(this, function () {\n  'use strict';\n\n/**\n * Add vendor prefix\n * @param {string} property\n * @return {string}\n */\nfunction addVendorPrefix(property) {\n\tvar prefs = [\"webkit\", \"moz\", \"ms\", \"o\"], index, $div = document.createElement(\"div\"),\n\t\tresult = property.toLowerCase(), arrayOfPrefixes = [];\n\n\tfunction capitalise(string) {\n\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\n\tfor (index = 0; index < prefs.length; index += 1) {\n\t\tarrayOfPrefixes.push(prefs[index] + capitalise(property));\n\t}\n\tfor (index = 0; index < arrayOfPrefixes.length; index += 1) {\n\t\tif ($div.style[arrayOfPrefixes[index]] !== undefined) {\n\t\t\tresult = \"-\" + prefs[index] + \"-\" + property;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Parse value from string\n * @param {string} value\n * @return {*}\n */\nfunction parseValue(value) {\n\tif (!value.length) {\n\t\treturn undefined;\n\t}\n\tvalue = value.trim();\n\tif (value.toLowerCase() === \"true\") {\n\t\treturn true;\n\t}\n\tif (value.toLowerCase() === \"false\") {\n\t\treturn false;\n\t}\n\tif (value.toLowerCase() === \"null\") {\n\t\treturn null;\n\t}\n\tif (value.toLowerCase() === \"undefined\") {\n\t\treturn undefined;\n\t}\n\tif (isNaN(value)) {\n\t\treturn value;\n\t}\n\tif (value.indexOf(\".\") !== 1) {\n\t\treturn parseFloat(value);\n\t}\n\treturn parseInt(value, 10);\n}\n/**\n * Parse string with options\n * @param {string} string\n * @return {Object}\n */\nfunction parseOptions(string) {\n\tvar result = {}, attrs, index, length, current, key;\n\tif (!string || !string.length) {\n\t\treturn result;\n\t}\n\tattrs = string.split(\";\");\n\tfor (index = 0, length = attrs.length; index < length; index += 1) {\n\t\tcurrent = attrs[index].split(\":\");\n\t\tkey = current[0].trim();\n\t\tif (key.length) {\n\t\t\tresult[key] = parseValue(current[1]);\n\t\t}\n\t}\n\treturn result;\n}\n/**\n * Extend first on object with second\n * @param {Object} old\n * @param {Object} newMixin\n * @return {Object}\n */\nfunction mix(old, newMixin) {\n\tvar attr;\n\tfor (attr in newMixin) {\n\t\tif (newMixin.hasOwnProperty(attr)) {\n\t\t\told[attr] = newMixin[attr];\n\t\t}\n\t}\n\treturn old;\n}\n\n(function(w) {\n\tw.Date.now || (w.Date.now = function() {\n\t\treturn +new Date;\n\t});\n})(window);\n\n(function (w) {\n\tw.performance || (w.performance = {});\n\tw.performance.now && (w.performance.now = performance.webkitNow || performance.mozNow || performance.msNow ||\n\t\tperformance.oNow || function () {\n\t\t\treturn Date.now()\n\t\t})\n})(window);\n\n(function (w) {\n\tvar lastTime = 0;\n\tvar vendors = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\tfor (var x = 0; x < vendors.length && !w.requestAnimationFrame; ++x) {\n\t\tw.requestAnimationFrame = w[vendors[x] + \"RequestAnimationFrame\"];\n\t\tw.cancelAnimationFrame = w[vendors[x] + \"CancelAnimationFrame\"]\n\t\t\t|| w[vendors[x] + \"CancelRequestAnimationFrame\"];\n\t}\n\tw.requestAnimationFrame || (w.requestAnimationFrame = function (callback) {\n\t\tvar currTime = Date.now();\n\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\tvar id = w.setTimeout(function () {\n\t\t\t\tcallback(currTime + timeToCall)\n\t\t\t},\n\t\t\ttimeToCall);\n\t\tlastTime = currTime + timeToCall;\n\t\treturn id\n\t});\n\tw.cancelAnimationFrame || (w.cancelAnimationFrame = function (id) {\n\t\tclearTimeout(id);\n\t});\n}(window));\n\n/**\n * Provide point events for DOM elements\n * @param {Element} element\n * @param {Object} listener\n * @param {Object=} context\n * @constructor\n */\nfunction PointerWrapper(element, listener, context) {\n\tthis._isDown = false;\n\tthis._chancelId = false;\n\tthis._tracks = {};\n\tthis._tmpEvent = {};\n\tif (this.isTouched) {\n\t\tthis._trackEvents = this.TRACK_TOUCH_EVENTS;\n\t} else {\n\t\tthis._trackEvents = this.TRACK_EVENTS;\n\t}\n\tthis.attach(element);\n\tthis._listener = listener;\n\tif (typeof listener === \"object\") {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener.handleEvent(event);\n\t\t};\n\t} else if (typeof context === \"object\") {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener.apply(context, [event]);\n\t\t};\n\t} else {\n\t\tthis.notify = function (event) {\n\t\t\tthis._listener(event);\n\t\t};\n\t}\n}\nPointerWrapper.prototype = {\n\tTRACK_TOUCH_EVENTS: {\n\t\ttouchstart: \"touchstart\",\n\t\ttouchmove: \"touchmove\",\n\t\ttouchend: \"touchend\",\n\t\ttouchleave: \"touchleave\",\n\t\ttouchcancel: \".touchcancel\"\n\t},\n\tTRACK_EVENTS: {\n\t\tmousedown: \"mousedown\",\n\t\tmousemove: \"mousemove\",\n\t\tmouseup: \"mouseup\",\n\t\tmouseover: \"mouseover\",\n\t\tmouseout: \"mouseout\"\n\t},\n\tFIRE_EVENTS: {\n\t\tup: \"pointerup\",\n\t\tdown: \"pointerdown\",\n\t\tmove: \"pointermove\",\n\t\tover: \"pointerover\",\n\t\tchancel: \"pointercancel\",\n\t\tfling: \"fling\",\n\t\tlongtap: \"longtap\",\n\t\ttap: \"tap\"\n\t},\n\t/**\n\t * @type {boolean}\n\t */\n\tisTouched: !window.device.desktop(),\n\t/**\n\t * @public\n\t */\n\tattach: function (element, catchFirstEvent) {\n\t\tvar old = this.detach(), attr;\n\t\tthis._catch = !!catchFirstEvent;\n\t\tif (element) {\n\t\t\tthis._el = element;\n\t\t\tfor (attr in this._trackEvents) {\n\t\t\t\tif (this._trackEvents.hasOwnProperty(attr)) {\n\t\t\t\t\tthis._el.addEventListener(this._trackEvents[attr], this, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn old;\n\t},\n\t/**\n\t * @public\n\t */\n\tdetach: function () {\n\t\tvar old = this._el, attr;\n\t\tif (old) {\n\t\t\tfor (attr in this._trackEvents) {\n\t\t\t\tif (this._trackEvents.hasOwnProperty(attr)) {\n\t\t\t\t\tthis._el.removeEventListener(this._trackEvents[attr], this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._el = null;\n\t},\n\t/**\n\t * @public\n\t */\n\tdestroy: function () {\n\t\tthis.detach();\n\t\tthis._listener = null;\n\t\tthis._tmpEvent = null;\n\t},\n\t/**\n\t * @public\n\t */\n\thandleEvent: function (event) {\n\t\tif (this._chancelId !== null) {\n\t\t\tclearTimeout(this._chancelId);\n\t\t}\n\t\tif (this._catch) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase this.TRACK_TOUCH_EVENTS.touchstart:\n\t\t\t\tcase this.TRACK_EVENTS.mousedown:\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis._isDown = true;\n\t\t\t\t\tthis._chancelId = false;\n\t\t\t\t\tthis._pointerDown(event);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._catch = false;\n\t\t}\n\t\tswitch (event.type) {\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchmove:\n\t\t\tcase this.TRACK_EVENTS.mousemove:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.move, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchstart:\n\t\t\tcase this.TRACK_EVENTS.mousedown:\n\t\t\t\tthis._isDown = true;\n\t\t\t\tthis._chancelId = false;\n\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.down, event);\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchend:\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchleave:\n\t\t\tcase this.TRACK_TOUCH_EVENTS.touchcancel:\n\t\t\tcase this.TRACK_EVENTS.mouseup:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._isDown = false;\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.up, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_EVENTS.mouseover:\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._fireEvent(this.FIRE_EVENTS.over, event);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACK_EVENTS.mouseout:\n\t\t\t\tvar pointerTracker = this;\n\t\t\t\tif (this._isDown) {\n\t\t\t\t\tthis._chancelId = setTimeout(function () {\n\t\t\t\t\t\tpointerTracker._isDown = false;\n\t\t\t\t\t\tpointerTracker._fireEvent(pointerTracker.FIRE_EVENTS.chancel, event);\n\t\t\t\t\t\tpointerTracker._chancelId = null;\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t/**\n\t * @private\n\t */\n\t_pointerDown: function (event) {\n\t\tthis._tracks = {\n\t\t\tstart: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tpre: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tlast: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tclientX: event.clientX,\n\t\t\t\tclientY: event.clientY,\n\t\t\t\ttimeStamp: event.timeStamp\n\t\t\t}\n\t\t};\n\t},\n\t/**\n\t * @private\n\t */\n\t_pointerMove: function (event) {\n\t\tif (event.timeStamp - this._tracks.last.timeStamp > 10) {\n\t\t\tthis._tracks.pre.clientX = this._tracks.last.clientX;\n\t\t\tthis._tracks.pre.clientY = this._tracks.last.clientY;\n\t\t\tthis._tracks.pre.timeStamp = this._tracks.last.timeStamp;\n\t\t\tthis._tracks.last.clientX = event.clientX;\n\t\t\tthis._tracks.last.clientY = event.clientY;\n\t\t\tthis._tracks.last.timeStamp = event.timeStamp;\n\t\t}\n\t},\n\t/**\n\t *\n\t * @param {Event} event\n\t * @private\n\t */\n\t_pointerUp: function (event) {\n\t\tvar isMoved, isFling, pointer = this._tracks;\n\t\tthis._tracks.end.clientX = event.clientX;\n\t\tthis._tracks.end.clientY = event.clientY;\n\t\tthis._tracks.end.timeStamp = event.timeStamp;\n\t\tfunction distance(x1, x2, y1, y2) {\n\t\t\treturn Math.pow(((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1)), 0.5);\n\t\t}\n\t\tisMoved = Math.abs(\n\t\t\t\tdistance(pointer.start.clientX, pointer.end.clientX, pointer.start.clientY, pointer.end.clientY)) > 10;\n\t\tisFling = Math.abs(\n\t\t\t\tdistance(pointer.end.clientX, pointer.pre.clientX, pointer.end.clientY, pointer.pre.clientY)) > 0;\n\t\tif (isFling) {\n\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.fling;\n\t\t\tthis._tmpEvent.start = pointer.start;\n\t\t\tthis._tmpEvent.end = pointer.end;\n\t\t\tthis._tmpEvent.speedX =\n\t\t\t\t(pointer.end.clientX - pointer.pre.clientX) / (pointer.end.timeStamp - pointer.pre.timeStamp);\n\t\t\tthis._tmpEvent.speedY =\n\t\t\t\t(pointer.end.clientY - pointer.pre.clientY) / (pointer.end.timeStamp - pointer.pre.timeStamp);\n\t\t\tthis.notify(this._tmpEvent);\n\t\t} else if (!isMoved) {\n\t\t\tif (pointer.end.timeStamp - pointer.start.timeStamp > 300) {\n\t\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.longtap;\n\t\t\t\tthis.notify(this._tmpEvent);\n\t\t\t} else {\n\t\t\t\tthis._tmpEvent.type = this.FIRE_EVENTS.tap;\n\t\t\t\tthis.notify(this._tmpEvent);\n\t\t\t}\n\t\t}\n\t\tthis._tracks = null;\n\t},\n\t/**\n\t * @private\n\t */\n\t_fireEvent: function (type, event) {\n\t\tvar touchEvent = event, i, l;\n\t\t// Get coordinates\n\t\tif (this.isTouched) {\n\t\t\tif (event.type === this.TRACK_TOUCH_EVENTS.touchstart) {\n\t\t\t\tif (event.touches.length > 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttouchEvent = event.touches[0];\n\t\t\t\tthis.touchID = event.touches[0].identifier;\n\t\t\t} else {\n\t\t\t\tif (!this.touchID) {\n\t\t\t\t\tthis.touchID = event.changedTouches[0].identifier;\n\t\t\t\t}\n\t\t\t\tfor (i = 0, l = event.changedTouches.length; i < l; i += 1) {\n\t\t\t\t\ttouchEvent = event.changedTouches[i];\n\t\t\t\t\tif (touchEvent.identifier === this.touchID) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (touchEvent.identifier !== this.touchID) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.touchID = 1; // Mouse\n\t\t}\n\t\t// Custom event\n\t\tthis._tmpEvent.type = type;\n\t\tthis._tmpEvent.start = null;\n\t\tthis._tmpEvent.end = null;\n\t\tthis._tmpEvent.speedX = null;\n\t\tthis._tmpEvent.speedY = null;\n\t\tthis._tmpEvent.screenX = touchEvent.screenX;\n\t\tthis._tmpEvent.screenY = touchEvent.screenY;\n\t\tthis._tmpEvent.clientX = touchEvent.clientX;\n\t\tthis._tmpEvent.clientY = touchEvent.clientY;\n\t\tthis._tmpEvent.pointerType = this.isTouched ? \"touch\" : \"mouse\";\n\t\tthis._tmpEvent.target = event.target;\n\t\tthis._tmpEvent.currentTarget = event.currentTarget;\n\t\tthis._tmpEvent.timeStamp = event.timeStamp;\n\t\tthis._tmpEvent.preventDefault = function () {\n\t\t\tif (event.preventDefault !== undefined) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\t\tthis._tmpEvent.stopPropagation = function () {\n\t\t\tif (event.stopPropagation !== undefined) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t};\n\t\t// Fire custom event\n\t\tthis.notify(this._tmpEvent);\n\t\t// Save data for gesture and check\n\t\tswitch (type) {\n\t\t\tcase this.FIRE_EVENTS.down:\n\t\t\t\tthis._pointerDown(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t\tcase this.FIRE_EVENTS.move:\n\t\t\t\tthis._pointerMove(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t\tcase this.FIRE_EVENTS.chancel:\n\t\t\tcase this.FIRE_EVENTS.up:\n\t\t\t\tthis._pointerUp(this._tmpEvent);\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * Scrollbar for view\n * @param {HTMLElement} container\n * @param {Object} options\n * @constructor\n */\nfunction ScrollBar(container, options) {\n\toptions = mix({\n\t\tclassName: \"scrollbar\",\n\t\tdirection: \"vertical\"\n\t}, options);\n\tthis.direction = options.direction;\n\tthis._container = container;\n\tthis._bar = document.createElement(\"div\");\n\tthis._bar.style.position = \"absolute\";\n\tthis._bar.className = options.className;\n\tthis._bar.style.opacity = 0;\n\tthis._container.appendChild(this._bar);\n\tthis._containerSize = 0;\n\tthis._position = 0;\n\tthis._max = 0;\n\tthis._translateArray = this.direction === \"vertical\" ? [\"translate3d(0, \", 0, \"px, 0)\"] : [\"translate3d(\", 0, \"px, 0, 0)\"];\n}\n\nScrollBar.prototype = {\n\t/**\n\t * @private\n\t */\n\t_transformName: addVendorPrefix(\"transform\"),\n\t/**\n\t * @private\n\t */\n\t_transitionName: addVendorPrefix(\"transition\"),\n\t/**\n\t * @public\n\t */\n\tsetPosition: function (position) {\n\t\tthis._position = position;\n\t\tthis._translateArray[1] = -position * this._containerSize / this._max;\n\t\tif (this._translateArray[1] <= 0) {\n\t\t\tthis._translateArray[1] = 0;\n\t\t} else if (this._translateArray[1] >= this._containerSize) {\n\t\t\tthis._translateArray[1] = this._containerSize;\n\t\t}\n\t\tthis._bar.style[this._transformName] = this._translateArray.join(\"\");\n\t},\n\t/**\n\t * @public\n\t */\n\trefresh: function (max) {\n\t\tvar bar = this;\n\t\tthis._max = max;\n\t\tif (Math.max(0, max) === 0) {\n\t\t\tthis._bar.style.opacity = 0;\n\t\t} else {\n\t\t\tthis._bar.style.opacity = 1;\n\t\t}\n\t\tif (this.direction === \"vertical\") {\n\t\t\tthis._bar.style.height = this._container.offsetHeight * (this._container.offsetHeight / (max + this._container.offsetHeight)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetHeight - this._bar.offsetHeight;\n\t\t} else {\n\t\t\tthis._bar.style.width = this._container.offsetWidth * (this._container.offsetWidth / (max + this._container.offsetWidth)) + \"px\";\n\t\t\tthis._containerSize = this._container.offsetWidth - this._bar.offsetWidth;\n\t\t}\n\t\tthis._bar.style[this._transitionName] = \"transform 300ms\";\n\t\tthis.setPosition(this._position);\n\t\tsetTimeout(function () {\n\t\t\tbar._bar.style[bar._transitionName] = \"transform 0ms\";\n\t\t}, 350);\n\t}\n};\n\n/**\n * Scroll wrapper with additional features\n * @param {HTMLElement} element\n * @param {Object} options - options for current instance of scrollview\n * @extends {EventListener}\n * @constructor\n */\nfunction ScrollViewJS(element, options) {\n\tvar scrollView = this, validPosition, tmpVar, event;\n\tthis._options = mix({\n\t\tpreventMove: true,\n\t\tresizeEvent: true,\n\t\tscroll: true,\n\t\tbounds: false,\n\t\tdirection: \"vertical\",\n\t\tmarginMIN: 0,\n\t\tmarginMAX: 0,\n\t\tonScroll: function (shift) {\n\t\t\tconsole.dir(shift);\n\t\t},\n\t\tonScrollBefore: function (shift) {\n\t\t\tconsole.dir(shift);\n\t\t\treturn true;\n\t\t},\n\t\tonScrollAfter: function () {\n\t\t},\n\t\tonScrollTypeChange: function (type) {\n\t\t}\n\t}, options);\n\t// Initialize inner variables on creation\n\tif (this._options.direction === \"vertical\") {\n\t\tthis._transitionArray = [\"translate3d(0, \", 0, \"px, 0)\"];\n\t\tthis._coordName = \"screenY\";\n\t\tthis._speedName = \"speedY\";\n\t} else {\n\t\tthis._transitionArray = [\"translate3d(\", 0, \"px, 0, 0)\"];\n\t\tthis._coordName = \"screenX\";\n\t\tthis._speedName = \"speedX\";\n\t}\n\tthis._animParams = null; // move or not in current time scrolling view\n\tthis._RafID = null; // ID of request animation frame\n\tthis._lastPointerPosition = 0; // position of touch pointer, when is touched\n\tthis._shift = 0; // shift for next requestAnimationFrame tick\n\tthis._motionType = this._lastMotionType = this._STRINGS.stop;\n\tthis._isMoved = false;\n\tthis._tmp = {shift: 0, now: 0, easing: 0, velocity: 0};\n\tthis._pos = 0;\n\tthis._root = element;\n\tthis._wrapper = element.firstElementChild;\n\t// Prepare environment\n\tvalidPosition = [\"fixed\", \"relative\", \"absolute\"];\n\ttmpVar = validPosition.indexOf(window.getComputedStyle(element, null).position);\n\tif (tmpVar === -1) {\n\t\ttmpVar = validPosition.indexOf(element.style.position);\n\t}\n\tif (tmpVar === -1) {\n\t\tthis._root.style.position = \"relative\";\n\t} else {\n\t\tthis._root.style.position = validPosition[tmpVar];\n\t}\n\tthis._root.style.overflow = \"hidden\";\n\tthis._wrapper.style.margin = 0;\n\tthis._wrapper.style.position = \"absolute\";\n\tthis._wrapper.style[this._transitionName] = \"transform 0ms\";\n\tfor (event in this.TRACKING_EVENTS) {\n\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\tthis._root.addEventListener(this.TRACKING_EVENTS[event], this, false);\n\t\t}\n\t}\n\tif (this._options.resizeEvent) {\n\t\twindow.addEventListener(this.TRACKING_EVENTS.resize, this, false);\n\t}\n\t// Animation step function\n\tthis._animationStep = function (timestamp) {\n\t\tif (!scrollView._options.scroll) {\n\t\t\treturn;\n\t\t}\n\t\tscrollView._calculateShift(timestamp);\n\t\tscrollView._pos -= scrollView._shift;\n\t\t// Check bounds\n\t\tif ((scrollView._motionType !== scrollView._STRINGS.tweak) ||\n\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\tif (scrollView._pos < scrollView._min - scrollView._margine) {\n\t\t\t\tscrollView._pos = scrollView._min - scrollView._margine;\n\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t}\n\t\t\tif (scrollView._pos > scrollView._margine + scrollView._max) {\n\t\t\t\tscrollView._pos = scrollView._margine + scrollView._max;\n\t\t\t\tscrollView._motionType = scrollView._STRINGS.checkTweak;\n\t\t\t}\n\t\t}\n\t\tif (scrollView._shift !== 0) { // Callbacks\n\t\t\tif ((!scrollView._isMoved) && !scrollView._options.onScrollBefore(scrollView._shift)) {\n\t\t\t\tscrollView._motionType = scrollView._STRINGS.stop;\n\t\t\t} else {\n\t\t\t\tscrollView._isMoved = true;\n\t\t\t\tscrollView._options.onScroll(scrollView._shift, scrollView._pos);\n\t\t\t\t// Call onScrollTypeChange callback if type of motion was changed\n\t\t\t\tif ((scrollView._lastMotionType !== scrollView._motionType) &&\n\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.checkTweak) &&\n\t\t\t\t\t(scrollView._motionType !== scrollView._STRINGS.stop)) {\n\t\t\t\t\tscrollView._options.onScrollTypeChange(scrollView._motionType);\n\t\t\t\t\tscrollView._lastMotionType = scrollView._motionType;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tscrollView._transitionArray[1] = scrollView._pos;\n\t\t// Endpoint round or post next loop\n\t\tif (scrollView._motionType === scrollView._STRINGS.stop) {\n\t\t\tscrollView._transitionArray[1] = Math.round(scrollView._transitionArray[1]);\n\t\t\tif (scrollView._isMoved) {\n\t\t\t\tscrollView._options.onScrollAfter();\n\t\t\t}\n\t\t\tscrollView._isMoved = false;\n\t\t} else {\n\t\t\tscrollView._RafID = window.requestAnimationFrame(scrollView._animationStep);\n\t\t}\n\t\tscrollView._wrapper.style[scrollView._transformName] = scrollView._transitionArray.join(\"\");\n\t\tscrollView._shift = 0;\n\t};\n\t// Start\n\tthis.refresh();\n}\nScrollViewJS.prototype = {\n\tTRACKING_EVENTS: {\n\t\tresize: \"resize\",\n\t\tup: \"pointerup\",\n\t\tmove: \"pointermove\",\n\t\tdown: \"pointerdown\",\n\t\tchancel: \"pointercancel\",\n\t\tfling: \"fling\"\n\t},\n\t_STRINGS: {\n\t\ttweak: \"tweak\",\n\t\tcheckTweak: \"checkTweak\",\n\t\tstop: \"stop\",\n\t\tscroll: \"scroll\",\n\t\tfling: \"fling\",\n\t\tmove: \"move\"\n\t},\n\t_transitionName: addVendorPrefix(\"transition\"),\n\t_transformName: addVendorPrefix(\"transform\"),\n\t_calculateShift: function (now) {\n\t\t// If it first time of RAF loop - save timestamp for calculations\n\t\tif (this._animParams.startTime === null) {\n\t\t\tthis._animParams.startTime = now;\n\t\t\tthis._animParams.lastTime = now;\n\t\t}\n\t\t// Check different types of motion\n\t\tswitch (this._motionType) {\n\t\t\tcase this._STRINGS.move:\n\t\t\t\tthis._shift /= ((this._pos < this._min) || (this._pos > this._max)) ? 3 : 1;\n\t\t\t\tbreak;\n\t\t\tcase this._STRINGS.fling:\n\t\t\t\t// Setup shift value & decrease velocity\n\t\t\t\tthis._shift = this._animParams.velocity * (now - this._animParams.lastTime);\n\t\t\t\tthis._tmp.velocity = this._animParams.velocity + this._animParams.a * (now - this._animParams.startTime);\n\t\t\t\t// Check changing of velocity sign\n\t\t\t\tif (this._tmp.velocity / this._animParams.velocity > 0) {\n\t\t\t\t\tthis._animParams.velocity = this._tmp.velocity;\n\t\t\t\t\t// Decrease velocity when scroller out of borders\n\t\t\t\t\tif (((this._pos < this._min) && (this._animParams.velocity > 0)) ||\n\t\t\t\t\t\t((this._pos > this._max) && (this._animParams.velocity < 0))) {\n\t\t\t\t\t\tthis._animParams.velocity += -this._animParams.velocity * 0.6;\n\t\t\t\t\t\tif (Math.abs(this._shift) < 0.1) {\n\t\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this._STRINGS.tweak:\n\t\t\tcase this._STRINGS.scroll:\n\t\t\t\tthis._tmp.now = Math.ceil(1000 * (now - this._animParams.startTime) / this._animParams.duration) / 1000;\n\t\t\t\tthis._tmp.easing = this.easeFunc(this._tmp.now);\n\t\t\t\tthis._tmp.shift = Math.ceil(1000 * this._animParams.shift * this._tmp.easing) / 1000;\n\t\t\t\tif (this._animParams.duration !== 0) {\n\t\t\t\t\tthis._shift = this._tmp.shift - this._animParams.lastShift;\n\t\t\t\t} else {\n\t\t\t\t\tthis._shift = this._animParams.shift;\n\t\t\t\t\tthis._tmp.now = 1;\n\t\t\t\t}\n\t\t\t\tif (this._tmp.now >= 1) {\n\t\t\t\t\tif (this._motionType === this._STRINGS.tweak) {\n\t\t\t\t\t\tthis._shift = this._animParams.shift - this._animParams.lastShift;\n\t\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._animParams.lastShift = this._tmp.shift;\n\t\t\t\tbreak;\n\t\t\tcase this._STRINGS.checkTweak:\n\t\t\t\tif (this._pos > this._max) {\n\t\t\t\t\tthis._tmp.shift = this._max - this._pos;\n\t\t\t\t} else {\n\t\t\t\t\tif (this._pos < this._min) {\n\t\t\t\t\t\tthis._tmp.shift = this._min - this._pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._tmp.shift = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this._options.tweak && this._tmp.shift === 0) {\n\t\t\t\t\tif (this._pos < this._max && this._pos > this._min) {\n\t\t\t\t\t\tthis._tmp.shift = this._pos - Math.ceil(1000 * Math.round(this._pos / this._options.tweak) * this._options.tweak) / 1000;\n\t\t\t\t\t\tthis._tmp.shift = -this._tmp.shift;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._animParams = {\n\t\t\t\t\tshift: -this._tmp.shift,\n\t\t\t\t\tlastShift: 0,\n\t\t\t\t\tduration: 250,\n\t\t\t\t\tstartTime: now,\n\t\t\t\t\tlastTime: null\n\t\t\t\t};\n\t\t\t\tif (this._tmp.shift !== 0) {\n\t\t\t\t\tthis._motionType = this._STRINGS.tweak;\n\t\t\t\t} else {\n\t\t\t\t\tthis._motionType = this._STRINGS.stop;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\tthis._animParams.lastTime = now;\n\t\tthis._shift = (!isNaN(this._shift)) ? this._shift : 0;\n\t},\n\t_eventPointerDown: function (event) {\n\t\twindow.cancelAnimationFrame(this._RafID); // stop any animations\n\t\tthis._lastPointerPosition = event[this._coordName]; //save current position for next loop of RAF\n\t\tthis._animParams = {}; //start looping by requestAnimationFrame\n\t\tthis._motionType = this._STRINGS.move;\n\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t},\n\t_eventPointerMove: function (event) {\n\t\tthis._shift += this._lastPointerPosition - event[this._coordName];\n\t\tthis._lastPointerPosition = event[this._coordName];\n\t},\n\t_eventPointerUp: function (event) {\n\t\tif (this._motionType !== this._STRINGS.fling) {\n\t\t\tthis._motionType = this._STRINGS.checkTweak;\n\t\t}\n\t\tthis._eventPointerMove(event);\n\t},\n\t_eventFling: function (event) {\n\t\tvar V = this._options.scroll ? -event[this._speedName] : 0;\n\t\tif (V === 0) {\n\t\t\treturn;\n\t\t}\n\t\tthis._animParams = {\n\t\t\tvelocity: V,\n\t\t\ta: -(V < 0 ? -1 : 1) * 0.00009,\n\t\t\tstartTime: null,\n\t\t\tlastTime: null\n\t\t};\n\t\tthis._motionType = this._STRINGS.fling;\n\t},\n\tpreventDefaultTags: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/,\n\teaseFunc: function (time) {\n\t\treturn time * (2 - time);\n\t},\n\tdestroy: function () {\n\t\tvar event;\n\t\tfor (event in this.TRACKING_EVENTS) {\n\t\t\tif (this.TRACKING_EVENTS.hasOwnProperty(event)) {\n\t\t\t\tthis._root.removeEventListener(this.TRACKING_EVENTS[event], this);\n\t\t\t}\n\t\t}\n\t\twindow.removeEventListener(this.TRACKING_EVENTS.resize, this);\n\t\twindow.cancelAnimationFrame(this._RafID);\n\t\tthis._root = null;\n\t\tthis._wrapper = null;\n\t\tthis._options = null;\n\t},\n\trefresh: function () {\n\t\tvar rootWidth = this._root.offsetWidth, rootHeight = this._root.offsetHeight;\n\t\twindow.cancelAnimationFrame(this._RafID);\n\t\tthis._motionType = this._STRINGS.stop;\n\t\tif (this._options.direction === \"vertical\") {\n\t\t\tthis._min = (rootHeight <= this._wrapper.clientHeight) ?\n\t\t\trootHeight - this._wrapper.clientHeight - this._options.marginMAX : 0;\n\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootHeight / 3) : 0;\n\t\t} else {\n\t\t\tthis._min = (rootWidth <= this._wrapper.offsetWidth) ?\n\t\t\trootWidth - this._wrapper.clientWidth - this._options.marginMAX : 0;\n\t\t\tthis._margine = (this._options.bounds) ? Math.round(rootWidth / 3) : 0;\n\t\t}\n\t\tthis._max = this._options.marginMIN;\n\t\tthis._motionType = this._STRINGS.checkTweak; // prepare and start tweak\n\t\tthis._animParams = {};\n\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t},\n\tscroll: function (shift, duration) {\n\t\tvar newDuration = duration, newShift, newPos;\n\t\twindow.cancelAnimationFrame(this._RafID);\n\t\tthis._motionType = this._STRINGS.stop;\n\t\t// check bounds\n\t\tif (shift !== 0) {\n\t\t\tnewPos = this._pos + shift;\n\t\t\tif (newPos < this._min) {\n\t\t\t\tnewShift = this._min - this._pos;\n\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\tshift = newShift;\n\t\t\t}\n\t\t\tif (newPos > this._max) {\n\t\t\t\tnewShift = this._max - this._pos;\n\t\t\t\tnewDuration = Math.abs(Math.round(duration * newShift / shift));\n\t\t\t\tshift = newShift;\n\t\t\t}\n\t\t}\n\t\tshift = this._options.scroll ? shift : 0;\n\t\tthis._motionType = this._STRINGS.scroll; //start looping by requestAnimationFrame\n\t\tthis._animParams = {\n\t\t\tshift: -shift,\n\t\t\tlastShift: 0,\n\t\t\tduration: newDuration,\n\t\t\tstartTime: null,\n\t\t\tlastTime: null\n\t\t};\n\t\tthis._RafID = window.requestAnimationFrame(this._animationStep);\n\t},\n\thandleEvent: function (event) {\n\t\tvar self = this;\n\t\tswitch (event.type) {\n\t\t\tcase this.TRACKING_EVENTS.down:\n\t\t\t\tthis._eventPointerDown(event);\n\t\t\t\tbreak;\n\t\t\tcase this.TRACKING_EVENTS.move:\n\t\t\t\tthis._eventPointerMove(event);\n\t\t\t\tif (this._options.preventMove && !this.preventDefaultTags.test(event.target)) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.TRACKING_EVENTS.chancel:\n\t\t\tcase this.TRACKING_EVENTS.up:\n\t\t\t\tthis._eventPointerUp(event);\n\t\t\t\tbreak;\n\t\t\tcase this.TRACKING_EVENTS.fling:\n\t\t\t\tthis._eventFling(event);\n\t\t\t\tbreak;\n\t\t\tcase this.TRACKING_EVENTS.resize:\n\t\t\t\tclearTimeout(this._resizeID);\n\t\t\t\tthis._resizeID = setTimeout(function () {\n\t\t\t\t\tself.refresh();\n\t\t\t\t}, 150);\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\nScrollViewJS.ScrollBar = ScrollBar;\nScrollViewJS.PointerWrapper = PointerWrapper;\n\n(function () {\n\tvar proto;\n\tproto = Object.create(HTMLDivElement.prototype);\n\tproto.createdCallback = function () {\n\t\tvar element = this, refreshMthd,\n\t\t\toptions = parseOptions(this.getAttribute(\"options\"));\n\t\tif (this.isInited || !this.parentNode) {\n\t\t\treturn;\n\t\t}\n\t\tthis.isInited = true;\n\t\tif (options.scrollbar) {\n\t\t\tthis.scrollBar = new ScrollViewJS.ScrollBar(this, {\n\t\t\t\tclassName: options.scrollbar,\n\t\t\t\tdirection: options.direction || \"vertical\"\n\t\t\t});\n\t\t}\n\t\toptions = mix({\n\t\t\t// Decorate onScroll methods\n\t\t\tonScrollBefore: function () {\n\t\t\t\tvar result = true;\n\t\t\t\tif (typeof element.onScrollBefore === \"function\") {\n\t\t\t\t\tresult = element.onScrollBefore(arguments);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tonScrollAfter: function () {\n\t\t\t\tif (typeof element.onScrollAfter === \"function\") {\n\t\t\t\t\telement.onScrollAfter(arguments);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonScroll: function () {\n\t\t\t\tif (element.scrollBar) {\n\t\t\t\t\telement.scrollBar.setPosition(arguments[1]);\n\t\t\t\t}\n\t\t\t\tif (typeof element.onScroll === \"function\") {\n\t\t\t\t\telement.onScroll(arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t}, options);\n\t\tthis.scroller = new ScrollViewJS(this, options);\n\t\tthis.tracker = new PointerWrapper(this, this.scroller);\n\t\trefreshMthd = this.scroller.refresh;\n\t\tthis.scroller.refresh = function () {\n\t\t\trefreshMthd.apply(element.scroller, arguments);\n\t\t\tif (element && element.scrollBar) {\n\t\t\t\telement.scrollBar.refresh(-element.scroller._min);\n\t\t\t}\n\t\t};\n\t\t// Decorate scroll methods\n\t\tthis.refresh = function () {\n\t\t\tthis.scroller.refresh();\n\t\t};\n\t\tthis.scroll = function (shift, duration) {\n\t\t\tthis.scroller.scroll(shift, duration);\n\t\t};\n\t\tthis.destroy = function () {\n\t\t\tthis.scroller.destroy();\n\t\t\tthis.tracker.destroy();\n\t\t};\n\t};\n\tproto.attachedCallback = function () {\n\t\tthis.refresh();\n\t};\n\tproto.detachedCallback = function () {\n\t};\n\tproto.attributeChangedCallback = function (attrName, oldVal, newVal) {\n\t};\n\treturn document.registerElement(\"x-scrollviewjs\", {\n\t\textends: \"div\",\n\t\tprototype: proto\n\t});\n}());\n\n  return ScrollViewJS;\n}));\n"],"sourceRoot":"/source/"}